<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-10-26 Thu 16:40 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Hebi Li" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="assets/hebi.css" /><link rel="stylesheet" type="text/css" href="assets/test.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Linux</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgadedfb9">1. Network</a></li>
<li><a href="#orgc83ebc5">2. Trouble Shooting</a>
<ul>
<li><a href="#org049b633">2.1. Cannot su root</a></li>
<li><a href="#org6d36887">2.2. in docker, cannot open chromium</a></li>
</ul>
</li>
<li><a href="#org9a5ba29">3. Files</a></li>
<li><a href="#org0518ef0">4. System</a></li>
<li><a href="#org6a35d3d">5. Shell Interaction</a></li>
<li><a href="#org0843f4c">6. App</a>
<ul>
<li><a href="#orgd2b7c23">6.1. Speech recognition engines</a></li>
<li><a href="#org5140360">6.2. mplayer</a></li>
<li><a href="#org46b22b0">6.3. unzip</a></li>
<li><a href="#org459b15d">6.4. youtube-dl</a></li>
<li><a href="#org3c107f7">6.5. VNC</a></li>
<li><a href="#org93595ca">6.6. mpd</a>
<ul>
<li><a href="#orgda5df9b">6.6.1. Clients</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org5b7ebfa">7. Prompt</a>
<ul>
<li><a href="#org6c99625">7.1. escape color</a></li>
</ul>
</li>
<li><a href="#org6bfc758">8. Job control</a></li>
<li><a href="#org99151e6">9. Install fonts</a></li>
<li><a href="#org1d425e0">10. Power management</a></li>
<li><a href="#org39ce975">11. Grub</a>
<ul>
<li><a href="#org66266b5">11.1. Introduction</a></li>
<li><a href="#org9b283f3">11.2. Grub 2</a></li>
</ul>
</li>
<li><a href="#orgafab072">12. Run level</a>
<ul>
<li><a href="#orgf3ad450">12.1. Run level description</a></li>
</ul>
</li>
<li><a href="#org8ba734f">13. LD<sub>LIBRARY</sub><sub>PATH</sub></a></li>
<li><a href="#org9f57fc5">14. Networking using NetworkManager</a>
<ul>
<li><a href="#orgdcd0ee9">14.1. add a wifi connection</a></li>
</ul>
</li>
<li><a href="#org4502353">15. Remove viewer</a></li>
<li><a href="#org52f0a04">16. File Management</a>
<ul>
<li><a href="#org87b8165">16.1. Swap File</a></li>
<li><a href="#org3cb47de">16.2. Back Up &amp; Syncing</a>
<ul>
<li><a href="#org6af800a">16.2.1. rsync</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgebc738e">17. Drivers</a></li>
<li><a href="#org6c6500b">18. Encoding</a></li>
</ul>
</div>
</div>
<p>
One of the most wired error I had (multiple times) is that,
my dist is full.
Then I cannot log into my account. Hopefully the home partition is
separate from root partition, I can still log into root to discover
this thing.
</p>

<p>
One of the situation I encountered is the <code>xsession-errors</code> file is more than 400G.
</p>

<ul class="org-ul">
<li>Debian Wiki: <a href="https://wiki.debian.org/">https://wiki.debian.org/</a></li>
<li>FreeBSD: <a href="https://www.freebsd.org/">https://www.freebsd.org/</a></li>
</ul>

<div id="outline-container-orgadedfb9" class="outline-2">
<h2 id="orgadedfb9"><span class="section-number-2">1</span> Network</h2>
<div class="outline-text-2" id="text-1">
<p>
To resolve a name to IP address, you can add it into
<code>/etc/hosts</code>. E.g. at the end of the file, add:
</p>

<pre class="example">
172.18.0.2 srcml-server-container
</pre>

<p>
The scenario to use this is that host system cannot resolve the name
of container to the specific IP. I have to specify it manually.
</p>
</div>
</div>

<div id="outline-container-orgc83ebc5" class="outline-2">
<h2 id="orgc83ebc5"><span class="section-number-2">2</span> Trouble Shooting</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org049b633" class="outline-3">
<h3 id="org049b633"><span class="section-number-3">2.1</span> Cannot su root</h3>
<div class="outline-text-3" id="text-2-1">
<p>
When su cannot change to root, run
</p>
<pre class="example">
chmod u+s /bin/su
</pre>
</div>
</div>

<div id="outline-container-org6d36887" class="outline-3">
<h3 id="org6d36887"><span class="section-number-3">2.2</span> in docker, cannot open chromium</h3>
<div class="outline-text-3" id="text-2-2">
<blockquote>
<p>
failed to move to new namespace: PID namespaces supported, Network
namespace supported, but failed: errno = Operation not permitted.
</p>
</blockquote>

<p>
Solution
</p>
<pre class="example">
chromium --no-sandbox
</pre>
</div>
</div>
</div>
<div id="outline-container-org9a5ba29" class="outline-2">
<h2 id="org9a5ba29"><span class="section-number-2">3</span> Files</h2>
<div class="outline-text-2" id="text-3">
<p>
In Unix, everything is a file.
</p>
<dl class="org-dl">
<dt><code>/etc/X11/rgb.txt</code></dt><dd>rgb file</dd>
</dl>
</div>
</div>

<div id="outline-container-org0518ef0" class="outline-2">
<h2 id="org0518ef0"><span class="section-number-2">4</span> System</h2>
<div class="outline-text-2" id="text-4">
<dl class="org-dl">
<dt><code>iostat</code></dt><dd>to monitor the IO usage. (from <code>sysstat</code> package)</dd>
<dt><code>id</code></dt><dd>show the group information of current user</dd>
<dt><code>dmesg</code></dt><dd>kernel log</dd>
<dt><code>/proc/cpuinfo</code></dt><dd>the file describing CPU</dd>
</dl>
<ul class="org-ul">
<li>hostname -i: print host ip addr</li>
</ul>
</div>
</div>

<div id="outline-container-org6a35d3d" class="outline-2">
<h2 id="org6a35d3d"><span class="section-number-2">5</span> Shell Interaction</h2>
<div class="outline-text-2" id="text-5">
<dl class="org-dl">
<dt><code>Ctrl-s</code></dt><dd>stop the screen</dd>
<dt><code>Ctrl-q</code></dt><dd>recover the screen</dd>
<dt><code>Shift-pageup/down</code></dt><dd>page up &amp; down</dd>
<dt><code>shift-Insert</code></dt><dd>paste</dd>
<dt><code>Ctrl-l</code></dt><dd>clear</dd>
</dl>
</div>
</div>
<div id="outline-container-org0843f4c" class="outline-2">
<h2 id="org0843f4c"><span class="section-number-2">6</span> App</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>File explorer: konquerer</li>
<li>Image viewer: feh</li>
</ul>

<p>
setting the wallpaper by:
</p>
<pre class="example">
feh --bg-fill /path/to/wall/paper
</pre>

<p>
And load previous setting by:
</p>
<pre class="example">
sh ~/.fehbg &amp;
</pre>


<ul class="org-ul">
<li>image processing: graphicsmagick, imagemagick</li>
</ul>
</div>

<div id="outline-container-orgd2b7c23" class="outline-3">
<h3 id="orgd2b7c23"><span class="section-number-3">6.1</span> Speech recognition engines</h3>
<div class="outline-text-3" id="text-6-1">
<dl class="org-dl">
<dt><code>gnustep-gui-runtime</code></dt><dd><code>say "hello"</code> It is not working yet</dd>
<dt><code>festival</code></dt><dd><code>echo "hello" | festival --tts</code> The speech is pretty smooth</dd>
<dt><code>speech-dispatcher</code></dt><dd><code>spd-say "hello"</code> quality is not that good</dd>
<dt><code>espeak</code></dt><dd><code>espeak "hello"</code> quality is not that good</dd>
</dl>
</div>
</div>

<div id="outline-container-org5140360" class="outline-3">
<h3 id="org5140360"><span class="section-number-3">6.2</span> mplayer</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Interactive controls:
</p>
<dl class="org-dl">
<dt>LEFT/RIGHT</dt><dd>10 sec</dd>
<dt>UP/DOWN</dt><dd>1 min</dd>
<dt>PGUP/PGDWN</dt><dd>10 min</dd>
<dt><code>[]</code></dt><dd>playback speed by 10%</dd>
<dt>{}</dt><dd>half/double speed</dd>
<dt>BACKSPACE</dt><dd>reset playback speed</dd>
<dt>/*</dt><dd>volume</dd>
<dt>SPACE</dt><dd>pause</dd>
<dt>f</dt><dd>toggle fullscreen</dd>
<dt>o</dt><dd>OSD</dd>
</dl>

<p>
When changing the speed, the pitch changed. To disable this, start
mplayer by <code>mplayer -af scaletempo</code>.
</p>

<p>
To stretch the images to full screen, pass the <code>-zoom</code> option when
starting.
</p>
</div>
</div>

<div id="outline-container-org46b22b0" class="outline-3">
<h3 id="org46b22b0"><span class="section-number-3">6.3</span> unzip</h3>
<div class="outline-text-3" id="text-6-3">
<ul class="org-ul">
<li><code>-q</code>: quiet</li>
<li><code>-d folder</code>: output to that folder</li>
</ul>

<p>
Cannot rename the content, must mv after extraction.
</p>
</div>
</div>

<div id="outline-container-org459b15d" class="outline-3">
<h3 id="org459b15d"><span class="section-number-3">6.4</span> youtube-dl</h3>
<div class="outline-text-3" id="text-6-4">
<p>
When downloading a playlist, you can make the template to number the files
</p>
<pre class="example">
youtube-dl -o "%(playlist_index)s-%(title)s.%(ext)s" &lt;playlist_link&gt;
</pre>
</div>
</div>

<div id="outline-container-org3c107f7" class="outline-3">
<h3 id="org3c107f7"><span class="section-number-3">6.5</span> VNC</h3>
<div class="outline-text-3" id="text-6-5">
<p>
I use tigervnc because it seems to be fast.
</p>

<ul class="org-ul">
<li>vncpasswd: set the password</li>
<li>vncserver&amp;: start the server.
<ul class="org-ul">
<li>It is started in :1 by default, so connect it with
<code>vncviewer &lt;ip&gt;:1</code></li>
<li>On mac, the docker bridge network does not work, so you cannot
connect to the contianer by IP addr. In this case, map the
port 5901. 5900+N is the default VNC port.</li>
<li>vncserver -kill :1 will kill the vncserver</li>
<li>vncserver :2 will open :2</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org93595ca" class="outline-3">
<h3 id="org93595ca"><span class="section-number-3">6.6</span> mpd</h3>
<div class="outline-text-3" id="text-6-6">
<p>
music play daemon
</p>

<p>
To start:
</p>
<pre class="example">
mkdir -p ~/.config/mpd
cp /usr/share/doc/mpd/mpdconf.example ~/.config/mpd/mpd.conf
mkdir ~/.mpd/playlists
</pre>

<pre class="example">
# Required files
db_file            "~/.mpd/database"
log_file           "~/.mpd/log"

# Optional
music_directory    "~/music"
playlist_directory "~/.mpd/playlists"
pid_file           "~/.mpd/pid"
state_file         "~/.mpd/state"
sticker_file       "~/.mpd/sticker.sql"

# uncomment pulse audio section
audio_output {
	type		"pulse"
	name		"My Pulse Output"
}
</pre>

<p>
Start mpd by:
</p>
<pre class="example">
systemctl --user start mpd
systemctl --user enable mpd
</pre>
</div>

<div id="outline-container-orgda5df9b" class="outline-4">
<h4 id="orgda5df9b"><span class="section-number-4">6.6.1</span> Clients</h4>
<div class="outline-text-4" id="text-6-6-1">
<ul class="org-ul">
<li>gmpc</li>
<li>stumpwm contrib mpd</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-org5b7ebfa" class="outline-2">
<h2 id="org5b7ebfa"><span class="section-number-2">7</span> Prompt</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>prompt($PS1-4)
<ul class="org-ul">
<li><code>\d</code>: date</li>
<li><code>\D{format}</code></li>
<li><code>\h</code>: hostname</li>
<li><code>\H</code>: full hostname</li>
<li><code>\t</code>: time 24hour HH::MM::SS</li>
<li><code>\T</code>: time 12hour HH::MM::SS</li>
<li><code>\@</code>: time 12hour am/pm</li>
<li><code>\A</code>: time 24hour HH::MM</li>
<li><code>\w</code>: current working directory</li>
<li><code>\W</code>: basename of $PWD</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org6c99625" class="outline-3">
<h3 id="org6c99625"><span class="section-number-3">7.1</span> escape color</h3>
<div class="outline-text-3" id="text-7-1">
<ul class="org-ul">
<li>1: bold</li>
<li>4: underline</li>
<li>30-37: black, red, green, yellow, blue, pink, cyan, white</li>
<li>40-47: background</li>
<li>90-97: light</li>
<li>100-107: light background</li>
</ul>

<p>
example:
</p>
<ul class="org-ul">
<li><code>\033[1;4;32;45m</code></li>
<li><code>\e[32;45m</code></li>
<li><code>\e[0m</code></li>
</ul>

<p>
in PS1, use:
</p>
<ul class="org-ul">
<li><code>\[\033[32;45m\]</code></li>
</ul>
</div>
</div>
</div>



<div id="outline-container-org6bfc758" class="outline-2">
<h2 id="org6bfc758"><span class="section-number-2">8</span> Job control</h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li><code>C-z</code> to suspend.
<ul class="org-ul">
<li><code>top</code>, then you can see the CPU usage and all process IDs. Simply press <code>k</code> and enter the PID can kill the process.</li>
</ul></li>
<li>refer a job
<ul class="org-ul">
<li><code>%n</code>: job number</li>
<li><code>%%</code>: current job</li>
<li><code>%+</code>: current job</li>
<li><code>%-</code>: previous job</li>
<li><code>%</code>: current job</li>
<li><code>%ce</code>: the job "ce"</li>
<li><code>%?ce</code>: the job, whose command has "ce"</li>
</ul></li>
</ul>

<p>
Some commands:
</p>
<dl class="org-dl">
<dt><code>jobs</code></dt><dd>list all background jobs</dd>
<dt><code>fg %1</code></dt><dd>continue it in foreground</dd>
<dt><code>bg %1</code></dt><dd>continue it in background</dd>
<dt><code>kill %1</code></dt><dd>kill the job (first)</dd>
</dl>
</div>
</div>

<div id="outline-container-org99151e6" class="outline-2">
<h2 id="org99151e6"><span class="section-number-2">9</span> Install fonts</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li>OTF: OpenType</li>
<li>TTF: TrueType</li>
<li>EOT: Embedded Open Type</li>
<li>WOFF: Web Open Font Format</li>
</ul>

<p>
To install:
</p>

<pre class="example">
cp *.otf ~/.fonts
sudo fc-cache
fc-list
</pre>
</div>
</div>



<div id="outline-container-org1d425e0" class="outline-2">
<h2 id="org1d425e0"><span class="section-number-2">10</span> Power management</h2>
<div class="outline-text-2" id="text-10">
<p>
No extra software needed! <code>systmed</code> can handle it, by <code>acpid</code>.
The configure file is <code>/etc/systemd/logind.conf</code>.
<code>man logind.conf</code> for details.
</p>

<pre class="example">
HandlePowerKey=hibernate
HandleLidSwitch=suspend
</pre>

<p>
hibernate will save to disk, while suspend save to ram.
Both of them will resume to the current status.
</p>
</div>
</div>

<div id="outline-container-org39ce975" class="outline-2">
<h2 id="org39ce975"><span class="section-number-2">11</span> Grub</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org66266b5" class="outline-3">
<h3 id="org66266b5"><span class="section-number-3">11.1</span> Introduction</h3>
<div class="outline-text-3" id="text-11-1">
<p>
Use grub 2 instead of grub legacy. For a quick look at what they look like:
</p>

<p>
Grub Legacy <code>boot/grub/menu.lst</code>:
</p>
<pre class="example">
title           Debian GNU/Linux
root            (hd0,2)
kernel          /vmlinuz root=/dev/hda3 ro
initrd          /initrd.img
</pre>

<p>
Grub 2 <code>/boot/grub/grub.cfg</code>:
</p>
<pre class="example">
menuentry "Debian GNU/Linux" {
        set root=(hd0,3)
        linux /vmlinuz root=/dev/hda3
        initrd /initrd.img
}
</pre>

<p>
Note that the root is <code>(hd0,2)</code> in grub legacy vs. <code>(hd0,3)</code> in grub 2.
</p>
</div>
</div>

<div id="outline-container-org9b283f3" class="outline-3">
<h3 id="org9b283f3"><span class="section-number-3">11.2</span> Grub 2</h3>
<div class="outline-text-3" id="text-11-2">
<p>
The menu configure file is located at <code>/boot/grub/grub.cfg</code>.
It is generated by <code>/usr/sbin/update-grub</code> (8) using templates from <code>/etc/grub.d/*</code> and settings from <code>/etc/default/grub</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgafab072" class="outline-2">
<h2 id="orgafab072"><span class="section-number-2">12</span> Run level</h2>
<div class="outline-text-2" id="text-12">
<p>
Use debian as example distribution.
</p>

<p>
The default run level is 2, corresponding to <code>/etc/rc2.d/XXX</code> scripts.
By default there's no difference between level 2 to 5.
</p>
</div>

<div id="outline-container-orgf3ad450" class="outline-3">
<h3 id="orgf3ad450"><span class="section-number-3">12.1</span> Run level description</h3>
<div class="outline-text-3" id="text-12-1">
<ul class="org-ul">
<li>0: halt</li>
<li>S: single user mode on boot</li>
<li>1: single user mode, switched from multi-user mode</li>
<li>2: multi-user mode</li>
<li>3,4,5</li>
<li>6: reboot</li>

<li><code>telinit(8)</code> can change the run level dynamically.</li>
<li><code>runlevel(8)</code> check current run level</li>
</ul>

<p>
Those scripts starts with "S" or "K" meaning <code>start</code> or <code>stop</code> sent to <code>systemd</code> utility.
Those scripts are symbol linked to <code>../init.d/xxx</code>.
</p>
</div>
</div>
</div>


<div id="outline-container-org8ba734f" class="outline-2">
<h2 id="org8ba734f"><span class="section-number-2">13</span> LD<sub>LIBRARY</sub><sub>PATH</sub></h2>
<div class="outline-text-2" id="text-13">
<p>
On <code>CentOS</code>, the default <code>LD_LIBRARY_PATH</code> does not contains the <code>/usr/local/lib</code>.
The consequence is the <code>-lpugi</code> and <code>-lctags</code> are not recognized because they are put in that directory.
Set it, or edit <code>/etc/ld.conf.d/local.conf</code> and add the path.
After that, run <code>ldconf -v</code> as root to update the database.
</p>

<p>
Also, the error:
</p>
<blockquote>
<p>
Linux error while loading shared libraries: cannot open shared object file: No such file or directory
</p>
</blockquote>

<p>
is also because the cache is not updated.
So the solution is <code>sudo ldconfig</code>
</p>
</div>
</div>


<div id="outline-container-org9f57fc5" class="outline-2">
<h2 id="org9f57fc5"><span class="section-number-2">14</span> Networking using NetworkManager</h2>
<div class="outline-text-2" id="text-14">
<p>
Install network-manager package, and:
</p>

<p>
Start the service
</p>
<pre class="example">
systemctl enable NetworkManager
</pre>
<p>
change <code>/etc/NetworkManager$/NetworkManager.conf</code> to:
</p>

<pre class="example">
[ifupdown]
managed=true
</pre>

<p>
restart
</p>
<pre class="example">
systemctl restart NetworkManager
</pre>
</div>


<div id="outline-container-orgdcd0ee9" class="outline-3">
<h3 id="orgdcd0ee9"><span class="section-number-3">14.1</span> add a wifi connection</h3>
<div class="outline-text-3" id="text-14-1">
<pre class="example">
nmcli device wifi list
nmcli device wifi connect IASTATE
nmcli device wifi connect ID password pwd
</pre>
</div>
</div>
</div>

<div id="outline-container-org4502353" class="outline-2">
<h2 id="org4502353"><span class="section-number-2">15</span> Remove viewer</h2>
<div class="outline-text-2" id="text-15">
<p>
The lab machines are accessed via spice. The client for spice is
virt-viewer. It can be installed through package manager. The actual
client is called remote-viewer, which is shipped with virt-viewer. So
the command to connect to the .vv file: <code>remove-viewer console.vv</code>.
</p>
</div>
</div>


<div id="outline-container-org52f0a04" class="outline-2">
<h2 id="org52f0a04"><span class="section-number-2">16</span> File Management</h2>
<div class="outline-text-2" id="text-16">
</div>
<div id="outline-container-org87b8165" class="outline-3">
<h3 id="org87b8165"><span class="section-number-3">16.1</span> Swap File</h3>
<div class="outline-text-3" id="text-16-1">
<p>
A swap file can also be used as swap memory. When doing linking, the
<code>ld</code> might fail because of lack of memory.
</p>

<p>
Check the current swap:
</p>
<pre class="example">
swapon -s
</pre>

<p>
Create swap file:
</p>
<pre class="example">
dd if=/dev/zero of=/path/to/extraswap bs=1M count=4096
mkswap /path/to/extraswap
</pre>

<pre class="example">
swapon /path/to/extraswap
swapoff /path/to/extraswap
</pre>

<p>
This will not be in effect after reboot. To automatically swap it on, in <code>/etc/fstab</code>
</p>
<pre class="example">
/path/to/extraswap none swap sw 0 0
</pre>
</div>
</div>
<div id="outline-container-org3cb47de" class="outline-3">
<h3 id="org3cb47de"><span class="section-number-3">16.2</span> Back Up &amp; Syncing</h3>
<div class="outline-text-3" id="text-16-2">
</div>
<div id="outline-container-org6af800a" class="outline-4">
<h4 id="org6af800a"><span class="section-number-4">16.2.1</span> rsync</h4>
<div class="outline-text-4" id="text-16-2-1">
<p>
This commnad is used to sync from source to destination. It does not
perform double way transfer. It decides a change if either of these happens:
</p>
<ul class="org-ul">
<li>size change</li>
<li>last-modified time</li>
</ul>

<p>
rsync [options] src dst
</p>

<p>
Available options
</p>
<ul class="org-ul">
<li><code>-v</code>: verbose</li>
<li><code>-h</code>: human readable message</li>
<li><code>-z</code>: compress</li>
<li><code>-r</code>: recursively</li>
<li><code>-a</code>: archive mode: preserve symblic links, file permissions, timestamps</li>
<li><code>-e ssh</code>: use ssh</li>
<li><code>--progress</code>: show progress</li>
<li><code>--include &lt;regex&gt;</code></li>
<li><code>--exclude &lt;regex&gt;</code></li>
<li><code>--delete</code>: DANGEROUS if dst has more than src, delete those on dst</li>
<li><code>--max-size='200k'</code>: set the size limit for each file</li>
<li><code>--dry-run</code>: dry run</li>
</ul>

<p>
Commonly used options: <code>vhzra</code> <code>dry-run</code>
</p>

<p>
Remember to use <code>a</code> option, otherwise the dst will always have newer
(thus different) timestamp, and you will do the copy all the time.
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-orgebc738e" class="outline-2">
<h2 id="orgebc738e"><span class="section-number-2">17</span> Drivers</h2>
<div class="outline-text-2" id="text-17">
<p>
I was installing drivers for my RX470 on Debian strench. The good news
is it works out of box, I guess using
<code>xserver-xorg-video-amdgpu</code>. However the temperature is 58 idle.
</p>

<p>
To fix that, I tried to install the newest driver, the <code>amdgpu-pro</code>. It
does not support Debian officially, although I can modify the install
script to pass the system test (it tests Ubuntu or steam). The
installation script failed, but leaves me with the
<code>/var/opt/amdgpu-pro-local</code> repo, which is also visible by <code>apt</code>. All the
things can be removed by running <code>amdgpu-pro-uninstall</code>. Installing
<code>amdgpu-pro</code> package will fail the machine, and you will not be able to
log in again. The integrated graphic card would still work to log in
and fix this but unless you have one, don't try it &#x2026; Installing
<code>xserver-xorg-video-amdgpu-pro</code> seems did gives me a temperature of 50,
much better ..
</p>

<p>
Of course, the fan on the GPU is spinning all the time even if I use
integrated graphic. The RGB lighting is not going to be customize-able.
</p>
</div>
</div>

<div id="outline-container-org6c6500b" class="outline-2">
<h2 id="org6c6500b"><span class="section-number-2">18</span> Encoding</h2>
<div class="outline-text-2" id="text-18">
<p>
When converting MS windows format to unix format, you can use emacs and call <code>set-buffer-file-coding-system</code> and set to unix.
Or you can use <code>dos2unix</code>, perhaps by
</p>

<pre class="example">
find . -name *.java | xargs dos2unix
</pre>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Hebi Li</p>
<p class="date">Created: 2017-10-26 Thu 16:40</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
