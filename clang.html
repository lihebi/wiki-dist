<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-08-08 Tue 03:15 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Clang</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Hebi Li" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="assets/hebi.css" /><link rel="stylesheet" type="text/css" href="assets/test.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Clang</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org7239d74">1. Note from LLVM</a></li>
<li><a href="#orgdd2009d">2. clang::tooling</a>
<ul>
<li><a href="#org34881a2">2.1. clang::tooling::ClangTool</a></li>
<li><a href="#orgd76c3ad">2.2. clang::tooling::CompilationDatabase</a></li>
<li><a href="#orgc3384ec">2.3. clang::tooling::runToolOnCode</a></li>
<li><a href="#orgef0dd25">2.4. <span class="todo TODO">TODO</span> clang::tooling::Range</a></li>
<li><a href="#org25ea32a">2.5. <span class="todo TODO">TODO</span> clang::tooling::Replacement</a></li>
</ul>
</li>
<li><a href="#org86bb8c2">3. Compiler</a>
<ul>
<li><a href="#org8432446">3.1. CompilerInstance</a></li>
<li><a href="#orgc8a5188">3.2. Preprocessor</a>
<ul>
<li><a href="#org59df1d8">3.2.1. MacroDefinition</a></li>
<li><a href="#org4de66b5">3.2.2. MacroInfo</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orge103807">4. General</a>
<ul>
<li><a href="#org595a659">4.1. IdentifierInfo</a></li>
<li><a href="#org7d607fd">4.2. clang::ASTUnit</a></li>
<li><a href="#orgdab656b">4.3. clang::ASTContext</a></li>
<li><a href="#org4643bac">4.4. clang::SourceManager</a></li>
<li><a href="#orgc58d9d6">4.5. Location</a></li>
</ul>
</li>
<li><a href="#org6787407">5. clang::Type</a>
<ul>
<li><a href="#org182c953">5.1. canonical type</a></li>
<li><a href="#org125d106">5.2. QualType</a></li>
</ul>
</li>
<li><a href="#org00349a5">6. clang::Decl</a>
<ul>
<li><a href="#org846e876">6.1. clang::DeclContext</a></li>
<li><a href="#orgdf7748b">6.2. clang::TranslationUnitDecl</a></li>
<li><a href="#org9b526fe">6.3. clang::BlockDecl</a></li>
<li><a href="#orga7b4ee5">6.4. clang::NamedDecl</a>
<ul>
<li><a href="#org433fdae">6.4.1. clang::LabelDecl</a></li>
<li><a href="#org47a6baa">6.4.2. clang::TypeDecl</a>
<ul>
<li><a href="#org8e13bbf">6.4.2.1. TagDecl</a></li>
<li><a href="#org572b2a5">6.4.2.2. clang::EnumDecl</a></li>
<li><a href="#org221f39a">6.4.2.3. clang::RecordDecl</a></li>
</ul>
</li>
<li><a href="#org65ff485">6.4.3. clang::ValueDecl</a>
<ul>
<li><a href="#orgbb3c5ff">6.4.3.1. clang::EnumConstantDecl</a></li>
<li><a href="#org6759080">6.4.3.2. clang::DeclaratorDecl</a></li>
<li><a href="#orgfd6fa88">6.4.3.3. clang::FunctionDecl</a></li>
<li><a href="#orge0c026b">6.4.3.4. clang::FieldDecl</a></li>
<li><a href="#org9869d8b">6.4.3.5. clang::VarDecl</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9de7d41">7. clang::Stmt</a>
<ul>
<li><a href="#org672615a">7.1. Single</a>
<ul>
<li><a href="#orgf10ee5a">7.1.1. clang::BreakStmt</a></li>
<li><a href="#orge296f65">7.1.2. clang::ReturnStmt</a></li>
<li><a href="#org1f6e540">7.1.3. clang::ContinueStmt</a></li>
</ul>
</li>
<li><a href="#org9b4cb3f">7.2. Conditional</a>
<ul>
<li><a href="#orgb5a24c6">7.2.1. clang::IfStmt</a></li>
<li><a href="#org3c91d72">7.2.2. clang::SwitchCase</a></li>
<li><a href="#orgdfef438">7.2.3. clang::SwitchStmt</a></li>
<li><a href="#org067a9de">7.2.4. clang::LabelStmt</a></li>
<li><a href="#org547fcc4">7.2.5. clang::GotoStmt</a></li>
</ul>
</li>
<li><a href="#org6a7fc26">7.3. loop</a>
<ul>
<li><a href="#org6c95e68">7.3.1. clang::DoStmt</a></li>
<li><a href="#org1b4fa34">7.3.2. clang::ForStmt</a></li>
<li><a href="#org4e64d10">7.3.3. clang::WhileStmt</a></li>
</ul>
</li>
<li><a href="#org490dc36">7.4. Other</a>
<ul>
<li><a href="#orga46f77b">7.4.1. clang::CompoundStmt</a></li>
<li><a href="#org980fcae">7.4.2. clang::DeclStmt</a></li>
<li><a href="#orgc7b73aa">7.4.3. <span class="todo TODO">TODO</span> clang::Expr</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org08db4b6">8. clang::Expr</a>
<ul>
<li><a href="#org8ca97c6">8.1. General Tips</a></li>
<li><a href="#org82c122e">8.2. clang::CallExpr</a></li>
<li><a href="#org04030f1">8.3. clang::BinaryOperator</a>
<ul>
<li><a href="#orge055183">8.3.1. clang::CompoundAssignOperator</a></li>
</ul>
</li>
<li><a href="#org11e847a">8.4. clang::CastExpr</a></li>
<li><a href="#org2085dfd">8.5. clang::ParenExpr</a></li>
<li><a href="#org82324eb">8.6. clang::MemberExpr</a></li>
<li><a href="#orgc79b140">8.7. clang::UnaryOperator</a></li>
<li><a href="#org212013d">8.8. clang::DeclRefExpr</a></li>
<li><a href="#orgc1b5344">8.9. clang::ConditionalOperator</a></li>
<li><a href="#orgc9ea295">8.10. Other Not Interesting Ones</a>
<ul>
<li><a href="#org07f0c3e">8.10.1. clang::LambdaExpr</a></li>
<li><a href="#orgf84024c">8.10.2. clang::IntegerLiteral</a></li>
<li><a href="#orge5cad2e">8.10.3. clang::ImplicitValueInitExpr</a></li>
<li><a href="#orgb7680e8">8.10.4. clang::InitListExpr (C++)</a></li>
<li><a href="#orga6c23a5">8.10.5. clang::ParenListExpr</a></li>
<li><a href="#org3773ae4">8.10.6. clang::StmtExpr</a></li>
<li><a href="#org575eb88">8.10.7. clang::StringLiteral</a></li>
<li><a href="#org596342a">8.10.8. clang::TypoExpr</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org5655fe5">9. Topics</a>
<ul>
<li><a href="#org6727790">9.1. Clang AST to source code</a>
<ul>
<li><a href="#org72861c8">9.1.1. clang::Rewriter</a></li>
</ul>
</li>
<li><a href="#orgc4792fa">9.2. Create AST</a>
<ul>
<li><a href="#org1aa21a9">9.2.1. Using Compilation Database</a></li>
<li><a href="#orgcc94b6e">9.2.2. From Code String</a></li>
</ul>
</li>
<li><a href="#orga75f348">9.3. LibTooling</a>
<ul>
<li><a href="#org5268e6c">9.3.1. Project Setup</a>
<ul>
<li><a href="#org1bc506d">9.3.1.1. Main File</a></li>
<li><a href="#orgca08692">9.3.1.2. Sub-directory files</a></li>
</ul>
</li>
<li><a href="#orgf7b5c5e">9.3.2. Header files</a></li>
<li><a href="#orgeb0c1ff">9.3.3. Entry Point</a></li>
<li><a href="#org41e3839">9.3.4. Location</a></li>
<li><a href="#org27eb619">9.3.5. APIs</a></li>
</ul>
</li>
<li><a href="#orgce0ab2e">9.4. Use As Command</a></li>
</ul>
</li>
<li><a href="#org1031ea0">10. Reference</a></li>
</ul>
</div>
</div>

<div id="outline-container-org7239d74" class="outline-2">
<h2 id="org7239d74"><span class="section-number-2">1</span> Note from LLVM</h2>
<div class="outline-text-2" id="text-1">
<p>
When doing casting, don't use C++ <code>static_cast</code> or
<code>dynamic_cast</code>. Instead, use the following:
</p>
<ul class="org-ul">
<li>isa&lt;&gt;: check and return bool</li>
<li>cast&lt;&gt;: this is checked cast from base class to derived. will
trigger assertion failure if the instance is not class.</li>
<li>dyn<sub>cast</sub>&lt;&gt;: this is checking cast, will return nullptr on failure</li>
</ul>

<p>
These functions also have one under clang namespace.
</p>

<p>
The type inside the cast should NOT be the pointer.
</p>
</div>
</div>

<div id="outline-container-orgdd2009d" class="outline-2">
<h2 id="orgdd2009d"><span class="section-number-2">2</span> clang::tooling</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-org34881a2" class="outline-3">
<h3 id="org34881a2"><span class="section-number-3">2.1</span> clang::tooling::ClangTool</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #008b8b;">ClangTool</span>::ClangTool(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">CompilationDatabase</span> &amp;<span style="color: #a0522d;">Compilations</span>, 
                     <span style="color: #228b22;">ArrayRef</span>&lt; <span style="color: #008b8b;">std</span>::string &gt; <span style="color: #a0522d;">SourcePaths</span>);
<span style="color: #008b8b;">ClangTool</span>::run (ToolAction *Action);
<span style="color: #b22222;">// </span><span style="color: #b22222;">directly build ASTs</span>
<span style="color: #008b8b;">ClangTool</span>::buildASTs(<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">vector</span>&lt;<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">unique_ptr</span>&lt;ASTUnit&gt; &gt; &amp;<span style="color: #a0522d;">ASTs</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd76c3ad" class="outline-3">
<h3 id="orgd76c3ad"><span class="section-number-3">2.2</span> clang::tooling::CompilationDatabase</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>clang::tooling::CompilationDatabase</li>
<li>clang::tooling::JSONCompilationDatabase</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #a020f0;">static</span> <span style="color: #008b8b;">CompilationDatabase</span>::<span style="color: #0000ff;">loadFromDirectory</span>(<span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">BuildDirectory</span>);
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">JSONCompilationDatabase</span> : <span style="color: #a020f0;">public</span> <span style="color: #228b22;">CompilationDatabase</span> {};
<span style="color: #a020f0;">static</span> <span style="color: #008b8b;">JSONCompilationDatabase</span>::<span style="color: #0000ff;">loadFromFile</span>(<span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">FilePath</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc3384ec" class="outline-3">
<h3 id="orgc3384ec"><span class="section-number-3">2.3</span> clang::tooling::runToolOnCode</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>runToolOnCode</li>
<li>runToolOnCodeWithArgs</li>
<li>buildASTFromCode</li>
<li>buildASTFromCodeWithArgs</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #a020f0;">using</span> <span style="color: #a020f0;">namespace</span> <span style="color: #008b8b;">clang</span>::<span style="color: #008b8b;">tooling</span>;
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">runToolOnCode</span>(<span style="color: #008b8b;">clang</span>::<span style="color: #228b22;">FrontendAction</span> *<span style="color: #a0522d;">ToolAction</span>,
                   <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">Code</span>,
                   <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">FileName</span>=<span style="color: #8b2252;">"input.cc"</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">runToolOnCodeWithArgs</span>(<span style="color: #008b8b;">clang</span>::<span style="color: #228b22;">FrontendAction</span> *<span style="color: #a0522d;">ToolAction</span>,
                           <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">Code</span>,
                           <span style="color: #a020f0;">const</span> <span style="color: #008b8b;">std</span>::<span style="color: #228b22;">vector</span>&lt;<span style="color: #008b8b;">std</span>::string&gt; &amp;<span style="color: #a0522d;">Args</span>,
                           <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">FileName</span>=<span style="color: #8b2252;">"input.cc"</span>);
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">unique_ptr</span>&lt;ASTUnit&gt;
<span style="color: #0000ff;">buildASTFromCode</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">Code</span>,
                 <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">FileName</span>=<span style="color: #8b2252;">"input.cc"</span>);
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">unique_ptr</span>&lt;ASTUnit&gt;
<span style="color: #0000ff;">buildASTFromCodeWithArgs</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">Code</span>,
                         <span style="color: #a020f0;">const</span> <span style="color: #008b8b;">std</span>::<span style="color: #228b22;">vector</span>&lt;<span style="color: #008b8b;">std</span>::string&gt; &amp;<span style="color: #a0522d;">Args</span>,
                         <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Twine</span> &amp;<span style="color: #a0522d;">FileName</span>=<span style="color: #8b2252;">"input.cc"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgef0dd25" class="outline-3">
<h3 id="orgef0dd25"><span class="section-number-3">2.4</span> <span class="todo TODO">TODO</span> clang::tooling::Range</h3>
</div>
<div id="outline-container-org25ea32a" class="outline-3">
<h3 id="org25ea32a"><span class="section-number-3">2.5</span> <span class="todo TODO">TODO</span> clang::tooling::Replacement</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>clang::tooling::Replacement</li>
<li>clang::tooling::Replacements</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org86bb8c2" class="outline-2">
<h2 id="org86bb8c2"><span class="section-number-2">3</span> Compiler</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-org8432446" class="outline-3">
<h3 id="org8432446"><span class="section-number-3">3.1</span> CompilerInstance</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #b22222;">// </span><span style="color: #b22222;">high level invocation</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">ExecuteAction</span>(<span style="color: #228b22;">FrontendAction</span> &amp;<span style="color: #a0522d;">act</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasInvocation</span>();
CompilerInvocation&amp; getInvocation();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">setInvocation</span>(<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">shared_ptr</span>&lt;CompilerInvocation&gt; <span style="color: #a0522d;">value</span>);

<span style="color: #b22222;">// </span><span style="color: #b22222;">options</span>
DiagnosticOptions&amp; getDiagnosticOpts();
FrontendOptions&amp; getFrontendOpts();
HeaderSearchOptions&amp; getHeaderSearchOpts();
LangOptions&amp; getLangOpts();
PreprocessorOptions&amp; getPreprocessorOpts();

<span style="color: #b22222;">// </span><span style="color: #b22222;">diagnoatic</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasDiagnostics</span>();
DiagnosticsEngine&amp; getDiagnostics();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">setDiagnostics</span>(<span style="color: #228b22;">DiagnosticsEngine</span> *<span style="color: #a0522d;">value</span>);

<span style="color: #b22222;">// </span><span style="color: #b22222;">managers</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasFileManager</span>();
FileManager&amp; getFileManager();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">setFileManager</span>(<span style="color: #228b22;">FileManager</span> *<span style="color: #a0522d;">value</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasSourceManager</span>();
SourceManager&amp; getSourceManager();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">setSourceManager</span>(<span style="color: #228b22;">SourceManager</span> *<span style="color: #a0522d;">value</span>);

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasPreprocessor</span>();
Preprocessor&amp; getPreprocessor();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">setPreprocessor</span>(<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">shared_ptr</span>&lt;Preprocessor&gt; <span style="color: #a0522d;">value</span>);

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasASTContext</span>();
ASTContext&amp; getASTContext();

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasASTConsumer</span>();
ASTConsumer&amp; getASTConsumer();

<span style="color: #b22222;">// </span><span style="color: #b22222;">construction</span>
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">createDiagnostics</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">createFileManager</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">createSourceManager</span>(<span style="color: #228b22;">FileManager</span> &amp;<span style="color: #a0522d;">FileMgr</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">createPreprocessor</span>(<span style="color: #228b22;">TranslationUnitKind</span> <span style="color: #a0522d;">TUKind</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8a5188" class="outline-3">
<h3 id="orgc8a5188"><span class="section-number-3">3.2</span> Preprocessor</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-C++">DiagnosticEngine &amp;getDiagnostics();
FileManager&amp; getFileManager();
SourceManager&amp; getSourceManager();
IdentifierTable&amp; getIdentifierTable();

<span style="color: #b22222;">// </span><span style="color: #b22222;">macros</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isMacroDefined</span>(<span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">id</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isMacroDefined</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">IdentifierInfo</span> *<span style="color: #a0522d;">ii</span>);
<span style="color: #228b22;">MacroDefinition</span> <span style="color: #0000ff;">getMacroDefinition</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">IdentifierInfo</span> *<span style="color: #a0522d;">ii</span>);
MacroInfo *getMacroInfo(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">IdentifierInfo</span> *<span style="color: #a0522d;">ii</span>);
<span style="color: #228b22;">macro_iterator</span> <span style="color: #0000ff;">macro_begin</span>(<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">IncludeExternalMacros</span>=<span style="color: #008b8b;">true</span>);
<span style="color: #228b22;">macro_iterator</span> <span style="color: #0000ff;">macro_end</span>(<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">IncludeExternalMacros</span>=<span style="color: #008b8b;">true</span>);

<span style="color: #a020f0;">typedef</span> <span style="color: #008b8b;">MacroMap</span>::<span style="color: #228b22;">const_iterator</span> <span style="color: #228b22;">macor_iterator</span>;
<span style="color: #a020f0;">typedef</span> <span style="color: #008b8b;">llvm</span>::<span style="color: #228b22;">DenseMap</span>&lt;<span style="color: #a020f0;">const</span> <span style="color: #228b22;">IdentifierInfo</span> *, MacroState&gt; <span style="color: #228b22;">MacroMap</span>;
</pre>
</div>
</div>

<div id="outline-container-org59df1d8" class="outline-4">
<h4 id="org59df1d8"><span class="section-number-4">3.2.1</span> MacroDefinition</h4>
<div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">
<pre class="src src-C++">MacroInfo *getMacroInfo();
</pre>
</div>
</div>
</div>

<div id="outline-container-org4de66b5" class="outline-4">
<h4 id="org4de66b5"><span class="section-number-4">3.2.2</span> MacroInfo</h4>
<div class="outline-text-4" id="text-3-2-2">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #b22222;">// </span><span style="color: #b22222;">this does not include the "#define"</span>
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getDefinitionLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getDefinitionEndLoc</span>();

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isFunctionLike</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isObjectLike</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isC99Varargs</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isGNUVarargs</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isVariadic</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isBuiltinMacro</span>();
</pre>
</div>

<p>
The builtin cannot distinguish most of the "builtin" macros. So in
order to detect user defined macros, get the source manager, and check
isWrittenInMainFile (<i>not</i> isInMainFile) for the source location.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orge103807" class="outline-2">
<h2 id="orge103807"><span class="section-number-2">4</span> General</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-org595a659" class="outline-3">
<h3 id="org595a659"><span class="section-number-3">4.1</span> IdentifierInfo</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">StringRef</span> <span style="color: #0000ff;">getName</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasMacroDefinition</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d607fd" class="outline-3">
<h3 id="org7d607fd"><span class="section-number-3">4.2</span> clang::ASTUnit</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-C++">ASTContext &amp;<span style="color: #008b8b;">ASTunit</span>::getASTContext();
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdab656b" class="outline-3">
<h3 id="orgdab656b"><span class="section-number-3">4.3</span> clang::ASTContext</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-src-container">
<pre class="src src-C++">SourceManager &amp;getSourceManager();
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">LangOptions</span> &amp;<span style="color: #0000ff;">getLangOpts</span>();
TranslationUnitDecl *getTranslationUnitDecl();
DiagnosticsEngine &amp;getDiagnostics();
<span style="color: #228b22;">FullSourceLoc</span> <span style="color: #0000ff;">getFullLoc</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-org4643bac" class="outline-3">
<h3 id="org4643bac"><span class="section-number-3">4.4</span> clang::SourceManager</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">FileID</span> <span style="color: #0000ff;">getMainFileID</span>();
FileEntry *getFileEntryForID(<span style="color: #228b22;">FileID</span> <span style="color: #a0522d;">FID</span>);
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getSpellingLoc</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>);
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">pair</span>&lt;<span style="color: #228b22;">FileID</span>, <span style="color: #228b22;">unsigned</span>&gt; <span style="color: #0000ff;">getDecomposedLoc</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>);
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">pair</span>&lt;<span style="color: #228b22;">FileID</span>, <span style="color: #228b22;">unsigned</span>&gt; <span style="color: #0000ff;">getDecomposedSpellingLoc</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>);
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">pair</span>&lt;<span style="color: #228b22;">FileID</span>, <span style="color: #228b22;">unsigned</span>&gt; <span style="color: #0000ff;">getDecomposedIncludedLoc</span>(<span style="color: #228b22;">FileID</span> <span style="color: #a0522d;">FID</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isInMainFile</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>);
<span style="color: #b22222;">// </span><span style="color: #b22222;">PresumedLoc</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isInFileID</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>, <span style="color: #228b22;">FileID</span> <span style="color: #a0522d;">FID</span>);
<span style="color: #b22222;">// </span><span style="color: #b22222;">SpellingLoc</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isWrittenInMainFile</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>);
</pre>
</div>

<ul class="org-ul">
<li>clang::FileEntry</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">StringRef</span> <span style="color: #0000ff;">getName</span>();
</pre>
</div>
</div>
</div>


<div id="outline-container-orgc58d9d6" class="outline-3">
<h3 id="orgc58d9d6"><span class="section-number-3">4.5</span> Location</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>clang::SourceRange</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getBegin</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getEnd</span>();
<span style="color: #228b22;">bool</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">==</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">SourceRange</span> &amp;<span style="color: #a0522d;">X</span>);
<span style="color: #228b22;">bool</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">!=</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">SourceRange</span> &amp;<span style="color: #a0522d;">X</span>);
</pre>
</div>
<ul class="org-ul">
<li>clang::SourceLocation: no interesting member functions. Use
<code>SourceManager</code> to decode it. But typically we are not going to use
<code>SourceManager</code>, instead, use <code>ASTContext</code> to decode it into
<code>FullSourceLoc</code>.</li>

<li>clang::FullSourceLoc : public clang::SourceLocation</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasManager</span>();
SourceManager&amp; getManager();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getSpellingLineNumber</span>();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getSpellingColumnNumber</span>();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getLineNumber</span>();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getColumnNumber</span>();
FileEntry *getFileEntry();
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-org6787407" class="outline-2">
<h2 id="org6787407"><span class="section-number-2">5</span> clang::Type</h2>
<div class="outline-text-2" id="text-5">
<p>
The raw type will be whatever appeared in the source code. If a type
is a typedef to another type (may be pointer), then the "type" will
not record the pointer information.
</p>
</div>

<div id="outline-container-org182c953" class="outline-3">
<h3 id="org182c953"><span class="section-number-3">5.1</span> canonical type</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Every instance of type has a canonical type pointer.
</p>
<ul class="org-ul">
<li>If the type is a simple primitive type, the pointer points to itself</li>
<li>If any part of the type has typedef, the pointer will point to a
type instance that is equivalent to it but without typedefs. You can
check whether two types are the same by comparing this pointer.</li>
</ul>

<p>
You should not use isa/cast/dyn<sub>cast</sub> on types
(e.g. <code>isa&lt;PointerType&gt;(expr-&gt;getType())</code>). The reason is it is not
canonical. So use help functions instead:
<code>expr-&gt;getType()-&gt;isPointerType()</code>.
</p>
</div>
</div>

<div id="outline-container-org125d106" class="outline-3">
<h3 id="org125d106"><span class="section-number-3">5.2</span> QualType</h3>
<div class="outline-text-3" id="text-5-2">
<p>
The type and its qualifiers (const, volatile, restrict) are
seperate. That is the QualType. It is designed to be small and
pass-by-value. It is essentially a pair of (Type*, bits) where the
bits stores the qualifiers.
</p>

<p>
This helps making only one type for each kind, e.g. int, const int,
volatile const int.
</p>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #a020f0;">const</span> <span style="color: #228b22;">Type</span>* <span style="color: #0000ff;">getTypePtr</span>() <span style="color: #a020f0;">const</span>;
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">Type</span>&amp; <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">*</span>() <span style="color: #a020f0;">const</span>;
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">Type</span>* <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">-&gt;</span>() <span style="color: #a020f0;">const</span>;

<span style="color: #228b22;">SplitQualType</span> <span style="color: #0000ff;">split</span>() <span style="color: #a020f0;">const</span>;
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">SplitQualType</span> {
<span style="color: #a020f0;">public</span>:
  <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Type</span> *<span style="color: #a0522d;">Ty</span>;
  <span style="color: #228b22;">Qualifiers</span> <span style="color: #a0522d;">Quals</span>;
};

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isCanonical</span>();
<span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">getCanonicalType</span>() <span style="color: #a020f0;">const</span>;
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isNull</span>();

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isConstQualified</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isVolatileQualified</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isRestrictQualified</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasLocalQualifiers</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasQualifiers</span>();

<span style="color: #228b22;">Qualifiers</span> <span style="color: #0000ff;">getQualifiers</span>();

<span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">withConst</span>();
<span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">withVolatile</span>();
<span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">withRestrict</span>();

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">dump</span>();
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">string</span> <span style="color: #0000ff;">getAsString</span>();

<span style="color: #a020f0;">static</span> <span style="color: #008b8b;">std</span>::<span style="color: #228b22;">string</span> <span style="color: #0000ff;">getAsString</span>(<span style="color: #228b22;">SplitQualType</span> <span style="color: #a0522d;">split</span>);
<span style="color: #a020f0;">static</span> <span style="color: #008b8b;">std</span>::<span style="color: #228b22;">string</span> <span style="color: #0000ff;">getAsString</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">Type</span> *<span style="color: #a0522d;">ty</span>, <span style="color: #228b22;">Qualifiers</span> <span style="color: #a0522d;">qs</span>);
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org00349a5" class="outline-2">
<h2 id="org00349a5"><span class="section-number-2">6</span> clang::Decl</h2>
<div class="outline-text-2" id="text-6">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocation</span>();
<span style="color: #228b22;">Kind</span> <span style="color: #0000ff;">getKind</span>();
DeclContext *getDeclContext();
</pre>
</div>
</div>

<div id="outline-container-org846e876" class="outline-3">
<h3 id="org846e876"><span class="section-number-3">6.1</span> clang::DeclContext</h3>
<div class="outline-text-3" id="text-6-1">
<p>
All classes inherited from it:
</p>
<ul class="org-ul">
<li>clang::BlockDecl</li>
<li>clang::FunctionDecl</li>
<li>clang::TagDecl
<ul class="org-ul">
<li>clang::EnumDecl</li>
<li>clang::RecordDecl</li>
</ul></li>
<li>clang::TranslationUnitDecl</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">decl_range</span> <span style="color: #0000ff;">decls</span>();
<span style="color: #228b22;">decl_iterator</span> <span style="color: #0000ff;">decls_begin</span>();
<span style="color: #228b22;">decl_iterator</span> <span style="color: #0000ff;">decls_end</span>()
</pre>
</div>
<p>
This should provide all information to get the children nodes.
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #a020f0;">class</span> <span style="color: #008b8b;">clang</span>::<span style="color: #008b8b;">DeclContext</span>::<span style="color: #228b22;">decl_iterator</span> {
<span style="color: #a020f0;">public</span>:
  <span style="color: #a020f0;">typedef</span> <span style="color: #228b22;">Decl</span>* <span style="color: #228b22;">value_type</span>;
  <span style="color: #a020f0;">typedef</span> <span style="color: #a020f0;">const</span> <span style="color: #228b22;">value_type</span>&amp; <span style="color: #228b22;">reference</span>;
  <span style="color: #228b22;">reference</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">*</span>() <span style="color: #a020f0;">const</span>;
  <span style="color: #228b22;">value_type</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">-&gt;</span>() <span style="color: #a020f0;">const</span>;
  decl_iterator&amp; <span style="color: #a020f0;">operator</span>++();
  <span style="color: #228b22;">decl_iterator</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">++</span>(<span style="color: #228b22;">int</span>);
  <span style="color: #a020f0;">friend</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">==</span>(<span style="color: #228b22;">decl_iterator</span> <span style="color: #a0522d;">x</span>, <span style="color: #228b22;">decl_iterator</span> <span style="color: #a0522d;">y</span>);
  <span style="color: #a020f0;">friend</span> <span style="color: #a020f0;">operator</span><span style="color: #0000ff;">!=</span>(<span style="color: #228b22;">decl_iterator</span> <span style="color: #a0522d;">x</span>, <span style="color: #228b22;">decl_iterator</span> <span style="color: #a0522d;">y</span>);
};

<span style="color: #a020f0;">typedef</span> <span style="color: #008b8b;">llvm</span>::<span style="color: #228b22;">iterator_range</span>&lt;<span style="color: #228b22;">decl_iterator</span>&gt; <span style="color: #008b8b;">clang</span>::<span style="color: #008b8b;">DeclContext</span>::<span style="color: #228b22;">decl_range</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">OK, now the reference of llvm::iterator_range</span>
<span style="color: #a020f0;">class</span> <span style="color: #008b8b;">llvm</span>::<span style="color: #228b22;">iterator_range</span>&lt;IteratorT&gt; {
<span style="color: #a020f0;">public</span>:
  <span style="color: #228b22;">IteratorT</span> <span style="color: #0000ff;">begin</span>() <span style="color: #a020f0;">const</span>;
  <span style="color: #228b22;">IteratorT</span> <span style="color: #0000ff;">end</span>() <span style="color: #a020f0;">const</span>;
};
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf7748b" class="outline-3">
<h3 id="orgdf7748b"><span class="section-number-3">6.2</span> clang::TranslationUnitDecl</h3>
<div class="outline-text-3" id="text-6-2">
<p>
It is also inherited from DeclContext.
</p>
</div>
</div>

<div id="outline-container-org9b526fe" class="outline-3">
<h3 id="org9b526fe"><span class="section-number-3">6.3</span> clang::BlockDecl</h3>
<div class="outline-text-3" id="text-6-3">
<p>
Like a unamed FunctionDecl. Also inherited from DeclContext.
</p>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">ArrayRef</span>&lt;<span style="color: #228b22;">ParmVarDecl</span>*&gt; <span style="color: #0000ff;">parameters</span>();
<span style="color: #228b22;">param_iterator</span> <span style="color: #0000ff;">param_begin</span>();
<span style="color: #228b22;">param_iterator</span> <span style="color: #0000ff;">param_end</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-orga7b4ee5" class="outline-3">
<h3 id="orga7b4ee5"><span class="section-number-3">6.4</span> clang::NamedDecl</h3>
<div class="outline-text-3" id="text-6-4">
<div class="org-src-container">
<pre class="src src-C++">IdentifierInfo *getIdentifier();
<span style="color: #228b22;">StringRef</span> <span style="color: #0000ff;">getName</span>();
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">string</span> <span style="color: #0000ff;">getNameAsString</span>();
</pre>
</div>
</div>

<div id="outline-container-org433fdae" class="outline-4">
<h4 id="org433fdae"><span class="section-number-4">6.4.1</span> clang::LabelDecl</h4>
<div class="outline-text-4" id="text-6-4-1">
<div class="org-src-container">
<pre class="src src-C++">LabelStmt *getStmt();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org47a6baa" class="outline-4">
<h4 id="org47a6baa"><span class="section-number-4">6.4.2</span> clang::TypeDecl</h4>
<div class="outline-text-4" id="text-6-4-2">
<p>
No interesting methods.
</p>

<ul class="org-ul">
<li>clang::TypeDecl
<ul class="org-ul">
<li>clang::TypedefNameDecl
<ul class="org-ul">
<li>clang::TypedefDecl: No interesting methods</li>
</ul></li>
<li>clang::TagDecl
<ul class="org-ul">
<li>clang::EnumDecl</li>
<li>clang::RecordDecl</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org8e13bbf" class="outline-5">
<h5 id="org8e13bbf"><span class="section-number-5">6.4.2.1</span> TagDecl</h5>
<div class="outline-text-5" id="text-6-4-2-1">
<ul class="org-ul">
<li>struct</li>
<li>union</li>
<li>class</li>
<li>enum</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #a020f0;">typedef</span> <span style="color: #228b22;">TagTypeKind</span> <span style="color: #228b22;">TagKind</span>;
<span style="color: #a020f0;">enum</span> <span style="color: #228b22;">TagTypeKind</span> {
  <span style="color: #a0522d;">TTK_Struct</span>,
  <span style="color: #a0522d;">TTK_Interface</span>,
  <span style="color: #a0522d;">TTK_Union</span>,
  <span style="color: #a0522d;">TTK_Class</span>,
  <span style="color: #a0522d;">TTK_Enum</span>
};
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getBraceRange</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getInnerLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getOuterLocStart</span>();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isThisDeclarationADefinition</span>();
TagDecl *getDefinition();
<span style="color: #228b22;">StringRef</span> <span style="color: #0000ff;">getKindName</span>();
<span style="color: #228b22;">TagKind</span> <span style="color: #0000ff;">getTagKind</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isStruct</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isInterface</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isClass</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isUnion</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isEnum</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org572b2a5" class="outline-5">
<h5 id="org572b2a5"><span class="section-number-5">6.4.2.2</span> clang::EnumDecl</h5>
<div class="outline-text-5" id="text-6-4-2-2">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">enumerator_range</span> <span style="color: #0000ff;">enumerators</span>();
<span style="color: #228b22;">enumerator_iterator</span> <span style="color: #0000ff;">enumerator_begin</span>();
<span style="color: #228b22;">enumerator_iterator</span> <span style="color: #0000ff;">enumerator_end</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org221f39a" class="outline-5">
<h5 id="org221f39a"><span class="section-number-5">6.4.2.3</span> clang::RecordDecl</h5>
<div class="outline-text-5" id="text-6-4-2-3">
<ul class="org-ul">
<li>struct</li>
<li>union</li>
<li>class</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">field_range</span> <span style="color: #0000ff;">fields</span>();
<span style="color: #228b22;">field_iterator</span> <span style="color: #0000ff;">field_begin</span>();
<span style="color: #228b22;">field_iterator</span> <span style="color: #0000ff;">field_end</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">field_empty</span>();

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org65ff485" class="outline-4">
<h4 id="org65ff485"><span class="section-number-4">6.4.3</span> clang::ValueDecl</h4>
<div class="outline-text-4" id="text-6-4-3">
<p>
Declaration of either
</p>
<ul class="org-ul">
<li>a variable</li>
<li>a function</li>
<li>an enum constant</li>
</ul>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">getType</span>();
</pre>
</div>

<ul class="org-ul">
<li>clang::ValueDecl
<ul class="org-ul">
<li>clang::EnumConstantDecl:</li>
<li>clang::DeclaratorDecl
<ul class="org-ul">
<li>clang::FunctionDecl</li>
<li>clang::FieldDecl</li>
<li>clang::VarDecl</li>
</ul></li>
</ul></li>
</ul>
</div>

<div id="outline-container-orgbb3c5ff" class="outline-5">
<h5 id="orgbb3c5ff"><span class="section-number-5">6.4.3.1</span> clang::EnumConstantDecl</h5>
<div class="outline-text-5" id="text-6-4-3-1">
<p>
An instance of this object exists for each enum constant that is
defined.
</p>
<div class="org-src-container">
<pre class="src src-C++">Expr* getInitExpr();
<span style="color: #a020f0;">const</span> <span style="color: #008b8b;">llvm</span>::<span style="color: #228b22;">APSInt</span> &amp;<span style="color: #0000ff;">getInitVal</span>();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-org6759080" class="outline-5">
<h5 id="org6759080"><span class="section-number-5">6.4.3.2</span> clang::DeclaratorDecl</h5>
<div class="outline-text-5" id="text-6-4-3-2">
<div class="org-src-container">
<pre class="src src-C++">TypeSourceInfo *getTypeSourceInfo();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getInnerLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getOuterLocStart</span>();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
NestedNameSpecifier *getQualifier();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getTypeSpecStartLoc</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfd6fa88" class="outline-5">
<h5 id="orgfd6fa88"><span class="section-number-5">6.4.3.3</span> clang::FunctionDecl</h5>
<div class="outline-text-5" id="text-6-4-3-3">
<ul class="org-ul">
<li>Also inherit from <code>clang::DeclContext</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getReturnTypeSourceRange</span>();
<span style="color: #228b22;">DeclarationNameInfo</span> <span style="color: #0000ff;">getNameInfo</span>();

FunctionDecl *getDefinition();
Stmt *getBody();
<span style="color: #b22222;">// </span><span style="color: #b22222;">even if it is only a declaration, the body is still available</span>
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isThisDeclarationADefinition</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isMain</span>();
<span style="color: #228b22;">ArrayRef</span>&lt;<span style="color: #228b22;">ParmVarDecl</span>*&gt; <span style="color: #0000ff;">parameters</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">param_empty</span>();
<span style="color: #228b22;">param_iterator</span> <span style="color: #0000ff;">param_begin</span>();
<span style="color: #228b22;">param_iterator</span> <span style="color: #0000ff;">param_end</span>();
<span style="color: #228b22;">size_t</span> <span style="color: #0000ff;">param_size</span>();
<span style="color: #228b22;">ParmVarDecl</span> *<span style="color: #0000ff;">getParamDecl</span>(<span style="color: #228b22;">unsigned</span> <span style="color: #a0522d;">i</span>);
<span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">getReturnType</span>();
</pre>
</div>

<p>
DeclarationNameInfo
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">DeclarationName</span> <span style="color: #0000ff;">getName</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getBeginLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getEndLoc</span>();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>()
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0c026b" class="outline-5">
<h5 id="orge0c026b"><span class="section-number-5">6.4.3.4</span> clang::FieldDecl</h5>
<div class="outline-text-5" id="text-6-4-3-4">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getFieldIndex</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isBitField</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasInClassinitializer</span>();
Expr *getInClassInitializer();
RecordDecl* getParent();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org9869d8b" class="outline-5">
<h5 id="org9869d8b"><span class="section-number-5">6.4.3.5</span> clang::VarDecl</h5>
<div class="outline-text-5" id="text-6-4-3-5">
<p>
Represent a variable declaration or definition.
</p>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
<span style="color: #228b22;">StorageClass</span> <span style="color: #0000ff;">getStorageClass</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isStaticLocal</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasExternalStorage</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasGlobalStorage</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isLocalVarDecl</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isLocalVarDeclOrParm</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isFunctionOrMethodVarDecl</span>();
<span style="color: #228b22;">DefinitionKind</span> <span style="color: #0000ff;">isThisDeclarationADefinition</span>();
VarDecl *getDefinition();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isFileVarDecl</span>();
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">Expr</span> *<span style="color: #0000ff;">getAnyInitializer</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasInit</span>();
<span style="color: #228b22;">Expr</span> *<span style="color: #0000ff;">getInit</span>();
</pre>
</div>

<ul class="org-ul">
<li>clang::ParmVarDecl : clang::VarDecl</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getFunctionScopeIndex</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">hasDefaultArg</span>();
Expr *getDefaultArg();
<span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getDefaultArgRange</span>();
</pre>
</div>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-org9de7d41" class="outline-2">
<h2 id="org9de7d41"><span class="section-number-2">7</span> clang::Stmt</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">dump</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">dumpColor</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">dumpPretty</span>(<span style="color: #228b22;">ASTContext</span> &amp;<span style="color: #a0522d;">Context</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">viewAST</span>(); <span style="color: #b22222;">// </span><span style="color: #b22222;">via graphviz</span>
<span style="color: #228b22;">child_range</span> <span style="color: #0000ff;">children</span>();
<span style="color: #228b22;">child_iterator</span> <span style="color: #0000ff;">child_begin</span>();
<span style="color: #228b22;">child_iterator</span> <span style="color: #0000ff;">child_end</span>();
</pre>
</div>

<p>
All subclasses has
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
<span style="color: #228b22;">child_range</span> <span style="color: #0000ff;">children</span>();
</pre>
</div>
</div>

<div id="outline-container-org672615a" class="outline-3">
<h3 id="org672615a"><span class="section-number-3">7.1</span> Single</h3>
<div class="outline-text-3" id="text-7-1">
</div><div id="outline-container-orgf10ee5a" class="outline-4">
<h4 id="orgf10ee5a"><span class="section-number-4">7.1.1</span> clang::BreakStmt</h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getBreakLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-orge296f65" class="outline-4">
<h4 id="orge296f65"><span class="section-number-4">7.1.2</span> clang::ReturnStmt</h4>
<div class="outline-text-4" id="text-7-1-2">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getReturnLoc</span>();
Expr *getRetValue();
</pre>
</div>
</div>
</div>
<div id="outline-container-org1f6e540" class="outline-4">
<h4 id="org1f6e540"><span class="section-number-4">7.1.3</span> clang::ContinueStmt</h4>
<div class="outline-text-4" id="text-7-1-3">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getContinueLoc</span>();
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9b4cb3f" class="outline-3">
<h3 id="org9b4cb3f"><span class="section-number-3">7.2</span> Conditional</h3>
<div class="outline-text-3" id="text-7-2">
</div><div id="outline-container-orgb5a24c6" class="outline-4">
<h4 id="orgb5a24c6"><span class="section-number-4">7.2.1</span> clang::IfStmt</h4>
<div class="outline-text-4" id="text-7-2-1">
<div class="org-src-container">
<pre class="src src-C++">Stmt *getInit();
Expr *getCond();
Stmt *getThen();
Stmt *getElse();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getIfLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getElseLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org3c91d72" class="outline-4">
<h4 id="org3c91d72"><span class="section-number-4">7.2.2</span> clang::SwitchCase</h4>
<div class="outline-text-4" id="text-7-2-2">
<p>
Has two subclasses
</p>
<ul class="org-ul">
<li>clang::CaseStmt</li>
<li>clang::DefaultStmt</li>
</ul>

<div class="org-src-container">
<pre class="src src-C++">SwitchCase *getNextSwitchCase();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getKeywordLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getColonLoc</span>();
Stmt *getSubStmt(); <span style="color: #b22222;">// </span><span style="color: #b22222;">??</span>
</pre>
</div>

<p>
CaseStmt
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getCaseLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getEllipsisLoc</span>(); <span style="color: #b22222;">// </span><span style="color: #b22222;">??</span>
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getColonLoc</span>();

Expr *getLHS();
Expr *getRHS();
Stmt *getSubStmt();
</pre>
</div>

<p>
DefaultStmt
</p>
<div class="org-src-container">
<pre class="src src-C++">Stmt *getSubStmt();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getDefaultLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getColonLoc</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdfef438" class="outline-4">
<h4 id="orgdfef438"><span class="section-number-4">7.2.3</span> clang::SwitchStmt</h4>
<div class="outline-text-4" id="text-7-2-3">
<div class="org-src-container">
<pre class="src src-C++">VarDecl *getConditionVariable();
DeclStmt *getConditionVariableDeclStmt();
Stmt *getInit();
Expr *getCond();
Stmt *getBody();
SwitchCase *getSwitchCaseList();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getSwitchLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org067a9de" class="outline-4">
<h4 id="org067a9de"><span class="section-number-4">7.2.4</span> clang::LabelStmt</h4>
<div class="outline-text-4" id="text-7-2-4">
<div class="org-src-container">
<pre class="src src-C++">LabelDecl *getDecl();
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">char</span> *<span style="color: #0000ff;">getName</span>();
Stmt *getSubStmt();
</pre>
</div>
</div>
</div>
<div id="outline-container-org547fcc4" class="outline-4">
<h4 id="org547fcc4"><span class="section-number-4">7.2.5</span> clang::GotoStmt</h4>
<div class="outline-text-4" id="text-7-2-5">
<div class="org-src-container">
<pre class="src src-C++">LabelDecl *getLabel();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getGotoLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLabelLoc</span>();
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6a7fc26" class="outline-3">
<h3 id="org6a7fc26"><span class="section-number-3">7.3</span> loop</h3>
<div class="outline-text-3" id="text-7-3">
</div><div id="outline-container-org6c95e68" class="outline-4">
<h4 id="org6c95e68"><span class="section-number-4">7.3.1</span> clang::DoStmt</h4>
<div class="outline-text-4" id="text-7-3-1">
<div class="org-src-container">
<pre class="src src-C++">Expr *getCond();
Stmt *getBody();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getDoLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getWhileLoc</span>();
<span style="color: #b22222;">// </span><span style="color: #b22222;">why no LParen??</span>
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getRParenLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org1b4fa34" class="outline-4">
<h4 id="org1b4fa34"><span class="section-number-4">7.3.2</span> clang::ForStmt</h4>
<div class="outline-text-4" id="text-7-3-2">
<div class="org-src-container">
<pre class="src src-C++">VarDecl *getConditionVariable();
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">DeclStmt</span> *<span style="color: #0000ff;">getConditionVariableDeclStmt</span>();

Stmt *getInit();
Expr *getCond();
Expr *getInc();

Stmt *getBody();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getForLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getRParenLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLParenLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org4e64d10" class="outline-4">
<h4 id="org4e64d10"><span class="section-number-4">7.3.3</span> clang::WhileStmt</h4>
<div class="outline-text-4" id="text-7-3-3">
<div class="org-src-container">
<pre class="src src-C++">VarDecl *getConditionVariable();
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">DeclStmt</span> *<span style="color: #0000ff;">getConditionVariableDeclStmt</span>();

Expr *getCond();
Stmt *getBody();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getWhileLoc</span>();
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org490dc36" class="outline-3">
<h3 id="org490dc36"><span class="section-number-3">7.4</span> Other</h3>
<div class="outline-text-3" id="text-7-4">
</div><div id="outline-container-orga46f77b" class="outline-4">
<h4 id="orga46f77b"><span class="section-number-4">7.4.1</span> clang::CompoundStmt</h4>
<div class="outline-text-4" id="text-7-4-1">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">bool</span> <span style="color: #0000ff;">body_empty</span>();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">size</span>();
<span style="color: #228b22;">body_range</span> <span style="color: #0000ff;">body</span>();
<span style="color: #228b22;">body_iterator</span> <span style="color: #0000ff;">body_begin</span>();
<span style="color: #228b22;">body_iterator</span> <span style="color: #0000ff;">body_end</span>();
Stmt *body_front();
Stmt *body_back();
<span style="color: #228b22;">reverse_body_iterator</span> <span style="color: #0000ff;">body_rbegin</span>();
<span style="color: #228b22;">reverse_body_iterator</span> <span style="color: #0000ff;">body_rend</span>();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLBracLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getRBracLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org980fcae" class="outline-4">
<h4 id="org980fcae"><span class="section-number-4">7.4.2</span> clang::DeclStmt</h4>
<div class="outline-text-4" id="text-7-4-2">
<p>
This is adapter class for mixing declarations with statements and
expressions.
</p>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isSingleDecl</span>();
Decl *getSingleDecl();
<span style="color: #228b22;">decl_range</span> <span style="color: #0000ff;">decls</span>();
<span style="color: #228b22;">decl_iterator</span> <span style="color: #0000ff;">decl_begin</span>();
<span style="color: #228b22;">decl_iterator</span> <span style="color: #0000ff;">decl_end</span>();
<span style="color: #228b22;">reverse_decl_iterator</span> <span style="color: #0000ff;">decl_rbegin</span>();
<span style="color: #228b22;">reverse_decl_iterator</span> <span style="color: #0000ff;">decl_rend</span>();

<span style="color: #a020f0;">typedef</span> <span style="color: #008b8b;">DeclGroupRef</span>::<span style="color: #228b22;">iterator</span> <span style="color: #008b8b;">clang</span>::<span style="color: #008b8b;">DeclStmt</span>::<span style="color: #228b22;">decl_iterator</span>;
<span style="color: #a020f0;">typedef</span> <span style="color: #228b22;">Decl</span>** <span style="color: #008b8b;">clang</span>::<span style="color: #008b8b;">DeclGroupRef</span>::<span style="color: #228b22;">iterator</span>;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc7b73aa" class="outline-4">
<h4 id="orgc7b73aa"><span class="section-number-4">7.4.3</span> <span class="todo TODO">TODO</span> clang::Expr</h4>
<div class="outline-text-4" id="text-7-4-3">
<p>
This is a big topic. In a seperate outline.
</p>

<p>
It is a subclass of Stmt, this allows an expression to be
transparently used in any place a Stmt is required.
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-org08db4b6" class="outline-2">
<h2 id="org08db4b6"><span class="section-number-2">8</span> clang::Expr</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getExprLoc</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isLValue</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isXValue</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isGLValue</span>();

<span style="color: #228b22;">ExprValueKind</span> <span style="color: #0000ff;">getValueKind</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isIntegerConstantExpr</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">ASTContext</span> &amp;<span style="color: #a0522d;">ctx</span>);
</pre>
</div>
</div>

<div id="outline-container-org8ca97c6" class="outline-3">
<h3 id="org8ca97c6"><span class="section-number-3">8.1</span> General Tips</h3>
<div class="outline-text-3" id="text-8-1">
<p>
Got an expr, how to get the variables inside it, and refer to the
</p>
<ul class="org-ul">
<li>type</li>
<li>where defined</li>
</ul>

<p>
Some examples
</p>
<ul class="org-ul">
<li>b&gt;0
<ul class="org-ul">
<li>BinaryOperator
<ul class="org-ul">
<li>ImplicitCastExpr
<ul class="org-ul">
<li>DeclRefExpr ParmVar (Var) b</li>
</ul></li>
<li>IntegerLiteral</li>
</ul></li>
</ul></li>
<li>a=b+c
<ul class="org-ul">
<li>BinaryOperator =
<ul class="org-ul">
<li>DeclRefExpr Var a</li>
<li>BinaryOperator +
<ul class="org-ul">
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>DeclRefExpr Var b</li>
</ul></li>
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>DeclRefExpr Var c</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>a+=b*c
<ul class="org-ul">
<li>CompoundAssignOperator +=
<ul class="org-ul">
<li>DeclRefExpr Var a</li>
<li>BinaryOperator
<ul class="org-ul">
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>DeclRefExpr Var b</li>
</ul></li>
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>DeclRefExpr Var c</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>a++
<ul class="org-ul">
<li>UnaryOperator ++
<ul class="org-ul">
<li>DeclRefExpr Var a</li>
</ul></li>
</ul></li>
<li>foo(a,b)
<ul class="org-ul">
<li>CallExpr
<ul class="org-ul">
<li>ImplicitCastExpr FunctionToPointerDecay
<ul class="org-ul">
<li>DeclRefExpr Function 'foo'</li>
</ul></li>
<li>ImplicitCastExpr
<ul class="org-ul">
<li>DeclRefExpr a</li>
</ul></li>
</ul></li>
</ul></li>
<li>a=foo() + bar()
<ul class="org-ul">
<li>BinaryOperator =
<ul class="org-ul">
<li>DeclRefExpr a</li>
<li>BinaryOperator +
<ul class="org-ul">
<li>CallExpr
<ul class="org-ul">
<li>ImplicitCastExpr
<ul class="org-ul">
<li>DeclRefExpr Function bar</li>
</ul></li>
</ul></li>
<li>CallExpr
<ul class="org-ul">
<li>ImplicitCastExpr
<ul class="org-ul">
<li>DeclRefExpr Function bar</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>a=b*(b+c)
<ul class="org-ul">
<li>BinaryOperator =
<ul class="org-ul">
<li>ImplicitCastExpr
<ul class="org-ul">
<li>DeclRefExpr b</li>
</ul></li>
<li>ParenExpr
<ul class="org-ul">
<li>BinaryOperator +
<ul class="org-ul">
<li>ImplicitCastExpr DeclRefExpr</li>
<li>ImplicitCastExpr DeclRefExpr</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>a.mem
<ul class="org-ul">
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>MemberExpr .mem
<ul class="org-ul">
<li>DeclRefExpr Var x "struct A"</li>
</ul></li>
</ul></li>
</ul></li>
<li>p-&gt;mem
<ul class="org-ul">
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>MemberExpr -&gt;mem
<ul class="org-ul">
<li>ImplicitCastExpr L2R
<ul class="org-ul">
<li>DeclRefExpr Var px "struct A *"</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org82c122e" class="outline-3">
<h3 id="org82c122e"><span class="section-number-3">8.2</span> clang::CallExpr</h3>
<div class="outline-text-3" id="text-8-2">
<div class="org-src-container">
<pre class="src src-C++">Expr *getCallee();
Decl *getCalleeDecl();
FunctionDecl *getDirectCallee();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getNumArgs</span>();
Expr **getArgs();
Expr *getArg(<span style="color: #228b22;">unsigned</span> <span style="color: #a0522d;">Arg</span>);

<span style="color: #228b22;">arg_range</span> <span style="color: #0000ff;">arguments</span>();
<span style="color: #228b22;">arg_iterator</span> <span style="color: #0000ff;">arg_begin</span>();
<span style="color: #228b22;">arg_iterator</span> <span style="color: #0000ff;">arg_end</span>();

<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getNumCommas</span>();
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getBuiltinCallee</span>();

<span style="color: #228b22;">QualType</span> <span style="color: #0000ff;">getCallReturnType</span>(<span style="color: #a020f0;">const</span> <span style="color: #228b22;">ASTContext</span> &amp;<span style="color: #a0522d;">Ctx</span>);
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getRParenLoc</span>();
</pre>
</div>
</div>
</div>
<div id="outline-container-org04030f1" class="outline-3">
<h3 id="org04030f1"><span class="section-number-3">8.3</span> clang::BinaryOperator</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getExprLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getOperatorLoc</span>();
<span style="color: #228b22;">Opcode</span> <span style="color: #0000ff;">getOpcode</span>();
Expr *getLHS();
Expr *getRHS();

<span style="color: #228b22;">StringRef</span> <span style="color: #0000ff;">getOpcodeStr</span>();

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isAdditiveOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isShiftOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isBitwiseOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isRelationalOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isEqualityOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isComparisonOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isLogicalOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isAssignmentOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isCompoundAssignmentOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isShiftAssignOp</span>();
</pre>
</div>
</div>

<div id="outline-container-orge055183" class="outline-4">
<h4 id="orge055183"><span class="section-number-4">8.3.1</span> clang::CompoundAssignOperator</h4>
<div class="outline-text-4" id="text-8-3-1">
<p>
Like <code>+=</code>, <code>-=</code>, etc. Don't have interesting methods though.
</p>
</div>
</div>
</div>

<div id="outline-container-org11e847a" class="outline-3">
<h3 id="org11e847a"><span class="section-number-3">8.4</span> clang::CastExpr</h3>
<div class="outline-text-3" id="text-8-4">
<p>
It has two children class
</p>
<ul class="org-ul">
<li>clang::ExplicitCastExpr</li>
<li>clang::ImplicitCastExpr</li>
</ul>

<p>
ImplicitCastExpr appears very often because it represent many type of
cast. For example
</p>
<ul class="org-ul">
<li>call a function needs to use the cast FunctionToPointerDecay</li>
<li>use a value in the righ hand side will need the cast LValueToRValue</li>
</ul>

<p>
The methods of the children classes are not interesting at all. So it
is convenient to use these methods:
</p>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">CastKind</span> <span style="color: #0000ff;">getCastKind</span>();
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">char</span> *<span style="color: #0000ff;">getCastKindName</span>();
Expr *getSubExpr();
Expr *getSubExprAsWritten();
</pre>
</div>
</div>
</div>

<div id="outline-container-org2085dfd" class="outline-3">
<h3 id="org2085dfd"><span class="section-number-3">8.5</span> clang::ParenExpr</h3>
<div class="outline-text-3" id="text-8-5">
<p>
This is a paren expr. It does not include the condition of a if-stmt, etc.
</p>

<div class="org-src-container">
<pre class="src src-C++">Expr *getSubExpr();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLParen</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getRParen</span>();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-org82324eb" class="outline-3">
<h3 id="org82324eb"><span class="section-number-3">8.6</span> clang::MemberExpr</h3>
<div class="outline-text-3" id="text-8-6">
<p>
This is the member access operator (. and -&gt;). It is for struct and
union members.
</p>

<div class="org-src-container">
<pre class="src src-C++">Expr *getBase();
<span style="color: #b22222;">// </span><span style="color: #b22222;">get the member declaration to which this expression refers</span>
ValueDecl *getMemberDecl();

<span style="color: #228b22;">DeclarationNameInfo</span> <span style="color: #0000ff;">getMemberNameInfo</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getOperatorLoc</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isArrow</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getMemberLoc</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getExprLoc</span>();
</pre>
</div>
</div>
</div>


<div id="outline-container-orgc79b140" class="outline-3">
<h3 id="orgc79b140"><span class="section-number-3">8.7</span> clang::UnaryOperator</h3>
<div class="outline-text-3" id="text-8-7">
<p>
except sizeof and alignof, but include
</p>
<ul class="org-ul">
<li>postinc/postdec and various extensions</li>
</ul>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">Opcode</span> <span style="color: #0000ff;">getOpcode</span>();
Expr *getSubExpr();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getOperatorLoc</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isPrefix</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isPostfix</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isIncrementOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isDecrementOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isIncrementDecrementOp</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isArithmeticOp</span>();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getExprLoc</span>();

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">bool</span> <span style="color: #0000ff;">isPostfix</span>(<span style="color: #228b22;">Opcode</span> <span style="color: #a0522d;">Op</span>);
<span style="color: #a020f0;">static</span> <span style="color: #228b22;">StringRef</span> <span style="color: #0000ff;">getopcodeStr</span>(<span style="color: #228b22;">Opcode</span> <span style="color: #a0522d;">Op</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-org212013d" class="outline-3">
<h3 id="org212013d"><span class="section-number-3">8.8</span> clang::DeclRefExpr</h3>
<div class="outline-text-3" id="text-8-8">
<p>
A reference to a declared variable, function, enum, etc.
</p>

<div class="org-src-container">
<pre class="src src-C++">ValueDecl *getDecl();
<span style="color: #228b22;">DeclarationNameInfo</span> <span style="color: #0000ff;">getNameInfo</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocation</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1b5344" class="outline-3">
<h3 id="orgc1b5344"><span class="section-number-3">8.9</span> clang::ConditionalOperator</h3>
<div class="outline-text-3" id="text-8-9">
<ul class="org-ul">
<li>clang::Expr
<ul class="org-ul">
<li>clang::AbstractConditionalOperator
<ul class="org-ul">
<li>clang::ConditionalOperator</li>
<li>clang::BinaryConditionalOperator (not interesting)</li>
</ul></li>
</ul></li>
</ul>

<p>
This is ?: ternary operator.
</p>

<div class="org-src-container">
<pre class="src src-C++">Expr *getCond();
Expr *getTrueExpr();
Expr *getFalseExpr();

<span style="color: #b22222;">// </span><span style="color: #b22222;">don't know what this is</span>
Expr *getLHS();
Expr *getRHS();

<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span>();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span>();
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9ea295" class="outline-3">
<h3 id="orgc9ea295"><span class="section-number-3">8.10</span> Other Not Interesting Ones</h3>
<div class="outline-text-3" id="text-8-10">
</div><div id="outline-container-org07f0c3e" class="outline-4">
<h4 id="org07f0c3e"><span class="section-number-4">8.10.1</span> clang::LambdaExpr</h4>
</div>
<div id="outline-container-orgf84024c" class="outline-4">
<h4 id="orgf84024c"><span class="section-number-4">8.10.2</span> clang::IntegerLiteral</h4>
</div>
<div id="outline-container-orge5cad2e" class="outline-4">
<h4 id="orge5cad2e"><span class="section-number-4">8.10.3</span> clang::ImplicitValueInitExpr</h4>
</div>
<div id="outline-container-orgb7680e8" class="outline-4">
<h4 id="orgb7680e8"><span class="section-number-4">8.10.4</span> clang::InitListExpr (C++)</h4>
</div>
<div id="outline-container-orga6c23a5" class="outline-4">
<h4 id="orga6c23a5"><span class="section-number-4">8.10.5</span> clang::ParenListExpr</h4>
</div>
<div id="outline-container-org3773ae4" class="outline-4">
<h4 id="org3773ae4"><span class="section-number-4">8.10.6</span> clang::StmtExpr</h4>
<div class="outline-text-4" id="text-8-10-6">
<p>
This is the GNU Statement Expression extension: <code>({int X=4;X;})</code>. Not
very useful for me.
</p>
</div>
</div>
<div id="outline-container-org575eb88" class="outline-4">
<h4 id="org575eb88"><span class="section-number-4">8.10.7</span> clang::StringLiteral</h4>
</div>
<div id="outline-container-org596342a" class="outline-4">
<h4 id="org596342a"><span class="section-number-4">8.10.8</span> clang::TypoExpr</h4>
</div>
</div>
</div>

<div id="outline-container-org5655fe5" class="outline-2">
<h2 id="org5655fe5"><span class="section-number-2">9</span> Topics</h2>
<div class="outline-text-2" id="text-9">
</div><div id="outline-container-org6727790" class="outline-3">
<h3 id="org6727790"><span class="section-number-3">9.1</span> Clang AST to source code</h3>
<div class="outline-text-3" id="text-9-1">
</div><div id="outline-container-org72861c8" class="outline-4">
<h4 id="org72861c8"><span class="section-number-4">9.1.1</span> clang::Rewriter</h4>
<div class="outline-text-4" id="text-9-1-1">
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/Rewrite/Core/Rewriter.h"</span>

SourceManager &amp;getSourceMgr();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">setSourceMgr</span>(<span style="color: #228b22;">SourceManager</span> &amp;<span style="color: #a0522d;">SM</span>, <span style="color: #a020f0;">const</span> <span style="color: #228b22;">LangOptions</span> &amp;<span style="color: #a0522d;">LO</span>);

<span style="color: #228b22;">int</span> <span style="color: #0000ff;">getRangeSize</span>(<span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">range</span>);
<span style="color: #008b8b;">std</span>::<span style="color: #228b22;">string</span> <span style="color: #0000ff;">getRewrittenText</span>(<span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">range</span>);

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">InsertText</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>, <span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">str</span>, <span style="color: #228b22;">bool</span> <span style="color: #a0522d;">InsertAfter</span>=<span style="color: #008b8b;">true</span>, <span style="color: #228b22;">bool</span> <span style="color: #a0522d;">indentNewLines</span>=<span style="color: #008b8b;">false</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">InsertTextAfter</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>, <span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">str</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">InsertTextAfterToken</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>, <span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">str</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">InsertTextBefore</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">loc</span>, <span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">str</span>);

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">RemoveText</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">start</span>, <span style="color: #228b22;">unsigned</span> <span style="color: #a0522d;">length</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">RemoveText</span>(<span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">range</span>);

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">ReplaceText</span>(<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">start</span>, <span style="color: #228b22;">unsigned</span> <span style="color: #a0522d;">OrigLength</span>, <span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">NewStr</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">ReplaceText</span>(<span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">range</span>, <span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">NewStr</span>);
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">ReplaceText</span>(<span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">range</span>, <span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">replacementRange</span>);

<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">IncreaseIndentation</span>(<span style="color: #228b22;">SourceRange</span> <span style="color: #a0522d;">range</span>, <span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">parentIndent</span>);

RewriteBuffer &amp;getEditBuffer(<span style="color: #228b22;">FileID</span> <span style="color: #a0522d;">FID</span>);
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">RewriteBuffer</span> *<span style="color: #0000ff;">getRewriteBufferFor</span>(<span style="color: #228b22;">FileID</span> <span style="color: #a0522d;">FID</span>) <span style="color: #a020f0;">const</span>;

<span style="color: #228b22;">buffer_iterator</span> <span style="color: #0000ff;">buffer_begin</span>();
<span style="color: #228b22;">buffer_iterator</span> <span style="color: #0000ff;">buffer_end</span>();
<span style="color: #228b22;">bool</span> <span style="color: #0000ff;">overwriteChangedFiles</span>();
</pre>
</div>

<p>
Usage example
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">Rewriter</span> <span style="color: #a0522d;">rewriter</span>;
rewriter.setSourceMgr(source_manager, )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc4792fa" class="outline-3">
<h3 id="orgc4792fa"><span class="section-number-3">9.2</span> Create AST</h3>
<div class="outline-text-3" id="text-9-2">
</div><div id="outline-container-org1aa21a9" class="outline-4">
<h4 id="org1aa21a9"><span class="section-number-4">9.2.1</span> Using Compilation Database</h4>
<div class="outline-text-4" id="text-9-2-1">
<p>
Using compilation database can make sure clang uses the right
flags. This is usually the include path, but also some flags like
-std=c99.
</p>

<p>
In order to get the compilation database file (compile<sub>commands.json</sub>):
</p>
<ul class="org-ul">
<li>for cmake project, runs cmake with
<code>-DCMAKE_EXPORT_COMPILE_COMMANDS=ON</code> will do the job</li>
<li>for non-cmake project, use <a href="https://github.com/rizsotto/Bear">Bear</a>. It runs the ordinary build and
intercept the <code>exec</code> calls issued by the build tools. The command to
run is <code>bear make</code> instead of <code>make</code></li>
</ul>

<p>
Thus, for all the projects, it is possible to get the compilation
database as long as:
</p>
<ul class="org-ul">
<li>cmake is able to finish success (no missing dependencies)</li>
<li>make can finish</li>
</ul>

<p>
As an example, to use the data base, invoke clang tooling by:
</p>

<div class="org-src-container">
<pre class="src src-C++"><span style="color: #228b22;">CompilationDatabase</span> *<span style="color: #a0522d;">db</span> = <span style="color: #008b8b;">CompilationDatabase</span>::loadFromDirectory(<span style="color: #8b2252;">"/path/to/build"</span>);
<span style="color: #b22222;">// </span><span style="color: #b22222;">or use the child class</span>
<span style="color: #228b22;">JSONCompilationDatabase</span> *<span style="color: #a0522d;">json_db</span> = <span style="color: #008b8b;">JSONCompilationDatabase</span>::loadFromFile(<span style="color: #8b2252;">"/path/to/compile_commands.json"</span>);
<span style="color: #b22222;">// </span><span style="color: #b22222;">directly use</span>
<span style="color: #228b22;">ClangTool</span> <span style="color: #a0522d;">tool</span>(*db, [<span style="color: #8b2252;">"a.c"</span>, <span style="color: #8b2252;">"b.c"</span>]);
<span style="color: #b22222;">// </span><span style="color: #b22222;">or use the command line arguments</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">usage: exe -p /path/to/build a.c b.c</span>
<span style="color: #a020f0;">static</span> <span style="color: #008b8b;">cl</span>::<span style="color: #228b22;">OptionCategory</span> <span style="color: #a0522d;">MyToolCategory</span>(<span style="color: #8b2252;">"my-tool options"</span>);
<span style="color: #228b22;">CommonOptionsParser</span> <span style="color: #0000ff;">OptionsParser</span>(argc, argv, MyToolCategory);
<span style="color: #228b22;">ClangTool</span> <span style="color: #0000ff;">tool</span>(OptionsParser.getCompilations(),
               OptionsParser.getSourcePathList());
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcc94b6e" class="outline-4">
<h4 id="orgcc94b6e"><span class="section-number-4">9.2.2</span> From Code String</h4>
<div class="outline-text-4" id="text-9-2-2">
<p>
Of cource using the database will introduce overhead to obtain the
database. We may only care about the header path
</p>
<ul class="org-ul">
<li>running runToolOnCode will use -fsyntax-only</li>
<li>system header files: I don't think libTooling default will use them,
so be sure to use</li>
<li>local headers: get all the folders, and add -Ixxx flags</li>
</ul>

<p>
The <code>runToolOnCode</code> can do this. It accepts a <code>FrontendAction</code>, and
typically calls a <code>RecursiveASTVisitor</code>.  Instead of <code>runToolOnCode</code>,
there's also a <code>buildASTFromCode</code> family:
</p>
</div>
</div>
</div>

<div id="outline-container-orga75f348" class="outline-3">
<h3 id="orga75f348"><span class="section-number-3">9.3</span> LibTooling</h3>
<div class="outline-text-3" id="text-9-3">
</div><div id="outline-container-org5268e6c" class="outline-4">
<h4 id="org5268e6c"><span class="section-number-4">9.3.1</span> Project Setup</h4>
<div class="outline-text-4" id="text-9-3-1">
</div><div id="outline-container-org1bc506d" class="outline-5">
<h5 id="org1bc506d"><span class="section-number-5">9.3.1.1</span> Main File</h5>
<div class="outline-text-5" id="text-9-3-1-1">
<p>
First of all, get the <code>CMakeLists.txt</code> setup:
</p>

<p>
The first line:
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">cmake_minimum_required</span>(VERSION 3.0)
</pre>
</div>

<p>
Setting directory to <code>lib</code> and <code>bin</code>
</p>

<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">set</span>(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${<span style="color: #a0522d;">CMAKE_BINARY_DIR</span>}/lib)
<span style="color: #0000ff;">set</span>(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${<span style="color: #a0522d;">CMAKE_BINARY_DIR</span>}/lib)
<span style="color: #0000ff;">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${<span style="color: #a0522d;">CMAKE_BINARY_DIR</span>}/bin)
</pre>
</div>

<p>
Other setup
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">SET</span>(CMAKE_EXPORT_COMPILE_COMMANDS ON)
</pre>
</div>

<p>
Thread library:
</p>

<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">find_package</span> (Threads)
<span style="color: #0000ff;">link_libraries</span>(${<span style="color: #a0522d;">CMAKE_THREAD_LIBS_INIT</span>})
</pre>
</div>

<p>
LLVM library configuration:
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">find_package</span>(LLVM REQUIRED CONFIG)
<span style="color: #0000ff;">message</span>(STATUS <span style="color: #8b2252;">"Found LLVM ${</span><span style="color: #a0522d;">LLVM_PACKAGE_VERSION</span><span style="color: #8b2252;">}"</span>)
<span style="color: #0000ff;">message</span>(STATUS <span style="color: #8b2252;">"Using LLVMCOnfig.cmake in: ${</span><span style="color: #a0522d;">LLVM_DIR</span><span style="color: #8b2252;">}"</span>)
<span style="color: #0000ff;">add_definitions</span>(${<span style="color: #a0522d;">LLVM_DEFINITIONS</span>})
<span style="color: #0000ff;">include_directories</span>(${<span style="color: #a0522d;">LLVM_INCLUDE_DIRS</span>})
<span style="color: #0000ff;">set</span>(LLVM_LINK_COMPONENTS support)
</pre>
</div>

<p>
Clang library setup
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">find_package</span>(Clang REQUIRED CONFIG)
</pre>
</div>

<p>
Trouble shooting setup
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #b22222;"># Otherwise error: undefined reference to typeinfo for xxx</span>
<span style="color: #0000ff;">add_compile_options</span>(-fno-rtti)
</pre>
</div>

<p>
link library
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">link_libraries</span>(clang clangTooling clangFrontend clangFrontendTool)
<span style="color: #0000ff;">link_libraries</span>(libclang gtest)
</pre>
</div>

<p>
Add sub-directories
</p>
<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">enable_testing</span>()
<span style="color: #0000ff;">add_subdirectory</span> (src)
<span style="color: #0000ff;">add_subdirectory</span> (test)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgca08692" class="outline-5">
<h5 id="orgca08692"><span class="section-number-5">9.3.1.2</span> Sub-directory files</h5>
<div class="outline-text-5" id="text-9-3-1-2">
<p>
<code>src/CMakeLists.txt</code> to add libraries, executables
</p>

<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">add_library</span> (Sqr sqr.cpp sqr.h)
<span style="color: #0000ff;">add_executable</span> (demo main.cpp)
<span style="color: #0000ff;">target_link_libraries</span> (demo Sqr)

<span style="color: #0000ff;">add_executable</span>(ast ast.cpp)
<span style="color: #0000ff;">add_executable</span>(token token.cpp)
<span style="color: #0000ff;">add_executable</span>(rewriter rewriter.cpp)
</pre>
</div>

<p>
<code>test/CMakeLists.txt</code>
</p>

<p>
The only requirement is to have <code>enable_testing</code> before <code>add_test</code>. The
command can be in <code>src</code> level list if no test source files.
</p>

<div class="org-src-container">
<pre class="src src-cmake"><span style="color: #0000ff;">add_test</span>(NAME toktest COMMAND hetok ../test/a.c)
<span style="color: #0000ff;">add_test</span>(NAME MyTest COMMAND Test)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf7b5c5e" class="outline-4">
<h4 id="orgf7b5c5e"><span class="section-number-4">9.3.2</span> Header files</h4>
<div class="outline-text-4" id="text-9-3-2">
<p>
Some representative header files:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/AST/ASTConsumer.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/AST/RecursiveASTVisitor.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/Frontend/CompilerInstance.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/Frontend/FrontendAction.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/Tooling/Tooling.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/Frontend/FrontendActions.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"llvm/Support/CommandLine.h"</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">"clang/Tooling/CommonOptionsParser.h"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb0c1ff" class="outline-4">
<h4 id="orgeb0c1ff"><span class="section-number-4">9.3.3</span> Entry Point</h4>
<div class="outline-text-4" id="text-9-3-3">
<p>
The entry point is creating the <code>tooling::ClangTool</code> class.  Just pass
<code>argc/v</code> into it. The command line option <code>--</code> at the end to invoke the
tool will not trying to find compilation database.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #228b22;">int</span> <span style="color: #0000ff;">main</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">argc</span>, <span style="color: #a020f0;">const</span> <span style="color: #228b22;">char</span> **<span style="color: #a0522d;">argv</span>) {
  <span style="color: #228b22;">CommonOptionsParser</span> <span style="color: #0000ff;">OptionsParser</span>(argc, argv, MyToolCategory);
  <span style="color: #228b22;">ClangTool</span> <span style="color: #0000ff;">Tool</span>(OptionsParser.getCompilations(), OptionsParser.getSourcePathList());
  Tool.run(newFrontendActionFactory&lt;MyAction&gt;().get());
}
</pre>
</div>

<p>
The Tool would run on some "action". This is our main logic. The
action derives from <code>ASTFrontendAction</code>, and override the
<code>CreateASTConsumer</code> class.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">MyAction</span> : <span style="color: #a020f0;">public</span> <span style="color: #008b8b;">clang</span>::<span style="color: #228b22;">ASTFrontendAction</span> {
<span style="color: #a020f0;">public</span>:
  <span style="color: #a020f0;">virtual</span> <span style="color: #008b8b;">std</span>::<span style="color: #228b22;">unique_ptr</span>&lt;<span style="color: #008b8b;">clang</span>::ASTConsumer&gt;
  <span style="color: #0000ff;">CreateASTConsumer</span>(<span style="color: #008b8b;">clang</span>::<span style="color: #228b22;">CompilerInstance</span> &amp;<span style="color: #a0522d;">Compiler</span>, <span style="color: #008b8b;">llvm</span>::<span style="color: #228b22;">StringRef</span> <span style="color: #a0522d;">InFile</span>) {
    <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">std</span>::unique_ptr&lt;<span style="color: #008b8b;">clang</span>::ASTConsumer&gt;
      (<span style="color: #a020f0;">new</span> <span style="color: #228b22;">MyConsumer</span>(&amp;Compiler.getASTContext()));
  }
};
</pre>
</div>

<p>
The Consumer would derive from <code>ASTConsumer</code> and override
<code>HandleTranslationUnit</code>. This function is called when the whole
translation unit is parsed. This provides the entry point of the AST
by the top most <i>decl</i> by <code>Context.getTranslationUnitDecl()</code>.
</p>

<p>
The visitor will automatically call <code>WalkUpFromXXX(x)</code> to recursively
visit child nodes of x returning false of TraverseXXX or <code>WalkUpFromXXX</code>
will terminate the traversal. By default this will be a pre-order
traversal. Calling a method to change to post-order.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">MyConsumer</span> : <span style="color: #a020f0;">public</span> <span style="color: #008b8b;">clang</span>::<span style="color: #228b22;">ASTConsumer</span> {
<span style="color: #a020f0;">public</span>:
  <span style="color: #a020f0;">explicit</span> <span style="color: #0000ff;">MyConsumer</span>(<span style="color: #228b22;">ASTContext</span> *<span style="color: #a0522d;">Context</span>)
    : Visitor(Context) {}
  <span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">HandleTranslationUnit</span>(<span style="color: #008b8b;">clang</span>::<span style="color: #228b22;">ASTContext</span> &amp;<span style="color: #a0522d;">Context</span>) {
    Visitor.TraverseDecl(Context.getTranslationUnitDecl());
  }
<span style="color: #a020f0;">private</span>:
  <span style="color: #228b22;">MyVisitor</span> <span style="color: #a0522d;">Visitor</span>;
};
</pre>
</div>

<p>
The visitor itself implement what to do with each AST node. Override
the list of <code>VisitXXX</code> method for each type of AST node.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">TokenVisitor</span>
  : <span style="color: #a020f0;">public</span> <span style="color: #228b22;">RecursiveASTVisitor</span>&lt;<span style="color: #228b22;">TokenVisitor</span>&gt; {
<span style="color: #a020f0;">public</span>:
  <span style="color: #a020f0;">explicit</span> <span style="color: #0000ff;">TokenVisitor</span>(<span style="color: #228b22;">ASTContext</span> *<span style="color: #a0522d;">Context</span>)
    : Context(Context) {}
  <span style="color: #228b22;">bool</span> <span style="color: #0000ff;">VisitCXXRecordDecl</span>(<span style="color: #228b22;">CXXRecordDecl</span> *<span style="color: #a0522d;">Declaration</span>) {}
  <span style="color: #228b22;">bool</span> <span style="color: #0000ff;">VisitFunctionDecl</span>(<span style="color: #228b22;">FunctionDecl</span> *<span style="color: #a0522d;">func_decl</span>) {}
<span style="color: #a020f0;">private</span>:
  <span style="color: #228b22;">ASTContext</span> *<span style="color: #a0522d;">Context</span>;
};
</pre>
</div>
</div>
</div>


<div id="outline-container-org41e3839" class="outline-4">
<h4 id="org41e3839"><span class="section-number-4">9.3.4</span> Location</h4>
<div class="outline-text-4" id="text-9-3-4">
<ul class="org-ul">
<li>Decl::getLocStart -&gt; <code>SourceLocation</code> loc</li>
<li>context-&gt;getFullLoc(loc) -&gt; FullSourceLoc full</li>
<li>full.getSpellingLinenumber</li>
</ul>
</div>
</div>

<div id="outline-container-org27eb619" class="outline-4">
<h4 id="org27eb619"><span class="section-number-4">9.3.5</span> APIs</h4>
<div class="outline-text-4" id="text-9-3-5">
<p>
<code>Decl</code>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocStart</span> ();
<span style="color: #228b22;">SourceLocation</span> <span style="color: #0000ff;">getLocEnd</span> ();
<span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">SourceRange</span> <span style="color: #0000ff;">getSourceRange</span> ();
</pre>
</div>

<p>
<code>ASTContext</code>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #228b22;">FullSourceLoc</span> <span style="color: #0000ff;">getFullLoc</span> (<span style="color: #228b22;">SourceLocation</span> <span style="color: #a0522d;">Loc</span>) <span style="color: #a020f0;">const</span>
<span style="color: #228b22;">SourceManager</span>&amp; <span style="color: #0000ff;">getSourceManager</span> ()
</pre>
</div>

<p>
<code>FullSourceLoc</code>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getSpellingLineNumber</span> (<span style="color: #228b22;">bool</span> *<span style="color: #a0522d;">Invalid</span>=<span style="color: #008b8b;">nullptr</span>) <span style="color: #a020f0;">const</span>
<span style="color: #228b22;">unsigned</span> <span style="color: #0000ff;">getSpellingColumnNumber</span> (<span style="color: #228b22;">bool</span> *<span style="color: #a0522d;">Invalid</span>=<span style="color: #008b8b;">nullptr</span>) <span style="color: #a020f0;">const</span>
<span style="color: #228b22;">FileID</span>  <span style="color: #0000ff;">getFileID</span> () <span style="color: #a020f0;">const</span>
</pre>
</div>

<p>
<code>SourceManager</code>
</p>

<div class="org-src-container">
<pre class="src src-cpp">FileManager&amp; getFileManager () <span style="color: #a020f0;">const</span>;
<span style="color: #228b22;">FileID</span> <span style="color: #0000ff;">getMainFileID</span> () <span style="color: #a020f0;">const</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">this file being processed</span>
<span style="color: #a020f0;">const</span> <span style="color: #228b22;">FileEntry</span> *<span style="color: #0000ff;">getFileEntryForID</span> (<span style="color: #228b22;">FileID</span> <span style="color: #a0522d;">FID</span>) <span style="color: #a020f0;">const</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgce0ab2e" class="outline-3">
<h3 id="orgce0ab2e"><span class="section-number-3">9.4</span> Use As Command</h3>
<div class="outline-text-3" id="text-9-4">
<dl class="org-dl">
<dt><code>-ast-dump</code></dt><dd>dump ast</dd>
<dt><code>-ast-dump-filter</code></dt><dd>filter to only dump part of the AST</dd>
<dt><code>-ast-list</code></dt><dd>list ast nodes</dd>
</dl>

<pre class="example">
clang -Xclang -ast-dump -fsyntax-only a.c
clang -emit-ast a.c
clang-check -ast-list lib/parser.cpp | grep AddValue
clang-check a.cc -ast-dump -ast-dump-filter=StdStringA --
</pre>
</div>
</div>
</div>

<div id="outline-container-org1031ea0" class="outline-2">
<h2 id="org1031ea0"><span class="section-number-2">10</span> Reference</h2>
<div class="outline-text-2" id="text-10">
<ul class="org-ul">
<li>A article as tutorial:
<a href="http://bastian.rieck.ru/blog/posts/2016/baby_steps_libclang_function_extents/">http://bastian.rieck.ru/blog/posts/2016/baby_steps_libclang_function_extents/</a></li>
<li>a repo of samples: <a href="https://github.com/eliben/llvm-clang-samples">https://github.com/eliben/llvm-clang-samples</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Hebi Li</p>
<p class="date">Created: 2017-08-08 Tue 03:15</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
