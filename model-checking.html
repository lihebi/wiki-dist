<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Model Checking</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="assets/hebi.css" /><link rel="stylesheet" type="text/css" href="assets/test.css" /><link rel="stylesheet" type="text/css" href="../assets/hebi.css" /><link rel="stylesheet" type="text/css" href="../assets/test.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Model Checking</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgdc2fb11">1. Kripke Structure (KS)</a>
<ul>
<li><a href="#org6cab81d">1.1. syntax</a></li>
<li><a href="#orgc720d32">1.2. semantic</a></li>
</ul>
</li>
<li><a href="#orgd3139b0">2. NuSMV</a>
<ul>
<li><a href="#org72c5919">2.1. Language</a></li>
<li><a href="#orgb5a5912">2.2. Interactive Run</a>
<ul>
<li><a href="#org70bbc28">2.2.1. General</a></li>
<li><a href="#org248b742">2.2.2. Reading models</a></li>
<li><a href="#org56b33c8">2.2.3. Model checking</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
The book: <a class='org-ref-reference' href="#2004-Book-Huth-Logic">2004-Book-Huth-Logic</a>
</p>

<div id="outline-container-orgdc2fb11" class="outline-2">
<h2 id="orgdc2fb11"><span class="section-number-2">1</span> Kripke Structure (KS)</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org6cab81d" class="outline-3">
<h3 id="org6cab81d"><span class="section-number-3">1.1</span> syntax</h3>
<div class="outline-text-3" id="text-1-1">
<ol class="org-ol">
<li>S: set of states</li>
<li>T: transitions: \subsetof SxS
<ul class="org-ul">
<li><i>left total</i>: forall s, exists s', s,s' &isin; T. I.e. every state
has an outgoing edge.</li>
</ul></li>
<li>L: labeling function, e.g. busy, non-busy. S-&gt;P(AP): P: powerset,
AP: set of propositions</li>

<li value="Computation model">pick a state, and unfold (infinite because of
left total) all transitions. It is a tree. Thus it is also called
<i>computation tree model</i>.</li>
<li value="Path">ordered sequence of states in the computation model (also
infinite)</li>
<li>Computation Tree Temporal Logic (CTL)</li>
</ol>

<p>
phi is the <i>formula</i>, i.e. the aV(b<sup>c</sup>) thing, in propositional logic.
</p>

<pre class="example">
\phi :: true | false |
        AP (atom proposition) |
        \not \phi | \phi \vee \phi | \phi \hedge \phi
        AX phi
        EX phi
        AF phi
        EF
        AG
        EG
        A (phi U phi)
        E (phi U phi)
</pre>

<ul class="org-ul">
<li>E: Exists a path</li>
<li>A: along All path</li>
<li>X: in the neXt state</li>
<li>F: Finally in a state</li>
<li>G: Globally in all states</li>
<li>U: until</li>
</ul>
</div>
</div>
<div id="outline-container-orgc720d32" class="outline-3">
<h3 id="orgc720d32"><span class="section-number-3">1.2</span> semantic</h3>
<div class="outline-text-3" id="text-1-2">
<p>
It means, states of KS where the given CTL formula is satisfied.
</p>

<p>
Given KS M and some state s in M
</p>
<ul class="org-ul">
<li>\(M,s \models true\): always true</li>
<li>\(M,s \not\models false\)</li>
<li>M,s \models p iff p &isin; L(s) where L is the label function</li>
<li>M,s &not;\models &phi; iff &phi; &not;&isin; L(s) ??</li>
<li>M,s \models AX &phi; iff &forall; &pi; &isin; Path(s) &pi;[1] \models
&phi;, where Path(s) is all possible paths start from s, and &pi;[i]
means the i-th item on the path.</li>
</ul>

<p>
In temporal logic, future starts from right now. So
</p>
<ul class="org-ul">
<li>\(M,s \models AF \phi\), iff \(\forall \pi \in Path(s), \exists i \ge 0,
  \pi[i] \models \phi\). Pay attention to the \(i \ge 0\).</li>
<li>\(M,s \models AG \phi\), iff \(\forall \pi \in Path(s), \forall i \ge 0, \pi[i] \models \phi\)</li>

<li>M,s \models A(&phi;<sub>1</sub> \union &phi;<sub>2</sub>) iff there is a state that phi<sub>2</sub>
satisfy, the before it on the path, phi<sub>1</sub> always holds.
<ul class="org-ul">
<li>iff \(\forall \pi \in Path(s), \exists i \ge 0, \pi[i] \models
    \phi_2 \wedge \forall j < i, \pi[j] \models \phi_1\)</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgd3139b0" class="outline-2">
<h2 id="orgd3139b0"><span class="section-number-2">2</span> NuSMV</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org72c5919" class="outline-3">
<h3 id="org72c5919"><span class="section-number-3">2.1</span> Language</h3>
<div class="outline-text-3" id="text-2-1">
<p>
A SMV model is specified by several modules, like functions. There
must be one module named <code>main</code> without formals, and is executed by
the interpreter.
</p>

<p>
Module can takes formals, which are call-by-reference when
instantiates with actual parameters. A module must be instantiated, in
VAR declaration, to be reused. It is through using the module inside
the type of variable. An optional <code>process</code> can be used here to
specify asynchronous behavior. This is deprecated, and modeling of
asynchronous will have to be resolved at a higher level. You can
reference the components using dot notation, and the variable support
very permissive forward declaration, you can use arbitrary dot
notation as long as it is valid by some declaration in some time.
</p>

<p>
Each module has several variable and defines. Variables are states. It
is declared with its type, like
</p>
<ul class="org-ul">
<li><code>boolean</code></li>
<li><code>1..5</code>: integers must be ranged</li>
<li><code>array 2..5 of boolean</code>: array must be defined with the subscription
range as well as inside type</li>
<li>signed/unsigned word[3]: vector of bits (booleans).</li>
</ul>

<p>
However, defines are macros, substituted when appear in
expression. Thus it is real time, and can also refer to next
expression in its definition.
</p>

<p>
Each module also has a <code>ASSIGN</code> block for specifying changes. It can
be either a <code>init</code> or <code>next</code> expression. Inside the assignment, the
RHS will be either a value, or a set, which means LHS can be EITHER
ONE inside the set. <code>next</code> cannot be nested, but next can be applied
to an expression, which is syntax sugar for apply next for each
variables inside the expression.
</p>

<p>
Besides <code>case</code>, tenary operator <code>cond?expr:expr</code> can be used for
simple conditions.
</p>

<p>
FAIRNESS is used to restrict attention only to good execution paths,
i.e. the good execution paths must be available in the future
<i>infinitely often</i>.
</p>

<p>
Finally, a SPEC can be given, using !, -&gt;, &amp;, |, EG, EX, EF, AG, AX,
AF, EU, AU, etc.
</p>
</div>
</div>

<div id="outline-container-orgb5a5912" class="outline-3">
<h3 id="orgb5a5912"><span class="section-number-3">2.2</span> Interactive Run</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Run interactively by <code>NuSMV -int</code>. The following commands are
available.
</p>
</div>

<div id="outline-container-org70bbc28" class="outline-4">
<h4 id="org70bbc28"><span class="section-number-4">2.2.1</span> General</h4>
<div class="outline-text-4" id="text-2-2-1">
<ul class="org-ul">
<li>help</li>
<li>history</li>
<li>quit</li>
<li>reset</li>
<li>set [name] [value]</li>
<li>source &lt;file&gt;: execute sequences of commands from a file, separated
by semi-colon.</li>
</ul>
</div>
</div>

<div id="outline-container-org248b742" class="outline-4">
<h4 id="org248b742"><span class="section-number-4">2.2.2</span> Reading models</h4>
<div class="outline-text-4" id="text-2-2-2">
<ul class="org-ul">
<li>read<sub>model</sub> -i [model-file]</li>
<li>show<sub>vars</sub>: show variables and defines</li>
<li>write<sub>order</sub> -o [order-file]</li>
<li>build<sub>model</sub></li>
<li>go: equivalent to read<sub>model</sub>, flatten<sub>hierarchy</sub>, encode<sub>variables</sub>,
build<sub>flat</sub><sub>model</sub>, build<sub>model</sub></li>
<li>process<sub>model</sub> -i [model-file]: build model and check SPEC</li>
</ul>
</div>
</div>

<div id="outline-container-org56b33c8" class="outline-4">
<h4 id="org56b33c8"><span class="section-number-4">2.2.3</span> Model checking</h4>
<div class="outline-text-4" id="text-2-2-3">
<ul class="org-ul">
<li>compute<sub>reachable</sub></li>
<li>print<sub>reachable</sub><sub>states</sub></li>
<li>check<sub>fsm</sub></li>
<li>check<sub>ctlspec</sub> -p "ctl-expr [IN context]"</li>
<li>check<sub>ltlspec</sub> -p "ltl-expr [IN context]"</li>

<li>pick<sub>state</sub> -i: interactively pick initial state</li>
<li>simulate</li>
<li>execute<sub>traces</sub></li>
<li>goto<sub>state</sub></li>
<li>print<sub>current</sub><sub>state</sub></li>
<li>show<sub>traces</sub></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"></p>
</div>
</body>
</html>
