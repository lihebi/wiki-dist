<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-11-20 Mon 10:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Python</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Hebi Li" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="assets/hebi.css" /><link rel="stylesheet" type="text/css" href="assets/test.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Python</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org783a499">1. <span class="todo TODO">TODO</span> </a>
<ul>
<li><a href="#org67962c8">1.1. <span class="todo TODO">TODO</span> define a static method of a class? so that I can avoid calling of self</a></li>
<li><a href="#orgb32ec67">1.2. <span class="todo TODO">TODO</span> define an inline function to avoid passing constant parameter: the scope of variable?</a></li>
<li><a href="#org5801aad">1.3. <span class="todo TODO">TODO</span> python debugger for emacs</a></li>
<li><a href="#org45bb93f">1.4. <span class="todo TODO">TODO</span> a tree reader for leetcode</a></li>
</ul>
</li>
<li><a href="#orgd6ed929">2. Language</a></li>
<li><a href="#org5349b27">3. Emacs support</a></li>
<li><a href="#org2d59d53">4. Unit Test</a></li>
<li><a href="#org803f5c4">5. Concept</a>
<ul>
<li><a href="#orge4f6854">5.1. Scoping</a></li>
<li><a href="#org0460b2f">5.2. Collection</a>
<ul>
<li><a href="#orgc6b04ec">5.2.1. String</a>
<ul>
<li><a href="#org434556b">5.2.1.1. Concatenation</a></li>
<li><a href="#orgaddce8f">5.2.1.2. split</a></li>
<li><a href="#org479234c">5.2.1.3. Slicing</a></li>
</ul>
</li>
<li><a href="#org3e55d5f">5.2.2. <span class="todo TODO">TODO</span> tuple</a></li>
<li><a href="#org458b7ef">5.2.3. List</a>
<ul>
<li><a href="#orgdd7b12a">5.2.3.1. Slicing</a></li>
<li><a href="#org54d3db8">5.2.3.2. create a list</a></li>
<li><a href="#orgc80367f">5.2.3.3. Modify a list</a></li>
</ul>
</li>
<li><a href="#orga5d044e">5.2.4. Dictionary</a></li>
<li><a href="#orgede2967">5.2.5. Set</a></li>
</ul>
</li>
<li><a href="#org0fd62a7">5.3. Algorithm</a>
<ul>
<li><a href="#orgf136990">5.3.1. <span class="todo TODO">TODO</span> sort</a></li>
</ul>
</li>
<li><a href="#orgbc978e1">5.4. Function</a>
<ul>
<li><a href="#orgdd170dc">5.4.1. variadic parameter</a></li>
</ul>
</li>
<li><a href="#org00cb874">5.5. Exception</a></li>
<li><a href="#org265a2fb">5.6. Lambda</a></li>
<li><a href="#orge7d7370">5.7. Packaging</a>
<ul>
<li><a href="#orgb68b463">5.7.1. importing</a></li>
</ul>
</li>
<li><a href="#org567265c">5.8. Thread</a></li>
</ul>
</li>
<li><a href="#orgfe71be0">6. Type</a>
<ul>
<li><a href="#org3ab752b">6.1. Boolean</a></li>
<li><a href="#org1345b7a">6.2. Integer</a></li>
<li><a href="#orgd83d98c">6.3. conversion</a></li>
</ul>
</li>
<li><a href="#org807fe23">7. Black Tech</a></li>
<li><a href="#org30b993b">8. Pep8</a>
<ul>
<li><a href="#orgd7890b2">8.1. document</a></li>
</ul>
</li>
<li><a href="#org5a57c91">9. IO</a></li>
<li><a href="#org6869fca">10. Operating System</a>
<ul>
<li><a href="#org2f0ddc4">10.1. Work filesystem:</a></li>
<li><a href="#org432c68f">10.2. Shell command</a></li>
</ul>
</li>
<li><a href="#orgc928484">11. Standard Library</a>
<ul>
<li><a href="#org7434868">11.1. math</a></li>
</ul>
</li>
<li><a href="#org3280dcd">12. Third party libraries</a>
<ul>
<li><a href="#orgd9a9149">12.1. argparse</a></li>
<li><a href="#org44c5353">12.2. urllib</a></li>
<li><a href="#org6efcdf7">12.3. XML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org783a499" class="outline-2">
<h2 id="org783a499"><span class="section-number-2">1</span> <span class="todo TODO">TODO</span> </h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org67962c8" class="outline-3">
<h3 id="org67962c8"><span class="section-number-3">1.1</span> <span class="todo TODO">TODO</span> define a static method of a class? so that I can avoid calling of self</h3>
</div>
<div id="outline-container-orgb32ec67" class="outline-3">
<h3 id="orgb32ec67"><span class="section-number-3">1.2</span> <span class="todo TODO">TODO</span> define an inline function to avoid passing constant parameter: the scope of variable?</h3>
</div>
<div id="outline-container-org5801aad" class="outline-3">
<h3 id="org5801aad"><span class="section-number-3">1.3</span> <span class="todo TODO">TODO</span> python debugger for emacs</h3>
</div>
<div id="outline-container-org45bb93f" class="outline-3">
<h3 id="org45bb93f"><span class="section-number-3">1.4</span> <span class="todo TODO">TODO</span> a tree reader for leetcode</h3>
</div>
</div>


<div id="outline-container-orgd6ed929" class="outline-2">
<h2 id="orgd6ed929"><span class="section-number-2">2</span> Language</h2>
<div class="outline-text-2" id="text-2">
<p>
The ultimate reference:
</p>

<p>
For python 3
</p>
<ul class="org-ul">
<li><a href="https://docs.python.org/3.7/reference/">https://docs.python.org/3.7/reference/</a></li>
<li><a href="https://docs.python.org/3.7/library/">https://docs.python.org/3.7/library/</a></li>
</ul>


<p>
<code>atom</code> is the most basic expression, while the <code>enclosure</code> is interesting.
</p>

<pre class="example">
atom      ::=  identifier | literal | enclosure
enclosure ::=  parenth_form | list_display | dict_display | set_display
               | generator_expression | yield_atom
</pre>

<p>
The <code>display</code> is a special syntax for python to create lists and dicts, using <i>comprehension</i>.
</p>

<pre class="example">
list_display ::=  "[" [starred_list | comprehension] "]"
set_display ::=  "{" (starred_list | comprehension) "}"

dict_display       ::=  "{" [key_datum_list | dict_comprehension] "}"
key_datum_list     ::=  key_datum ("," key_datum)* [","]
key_datum          ::=  expression ":" expression | "**" or_expr
dict_comprehension ::=  expression ":" expression comp_for
</pre>

<p>
And the comprehension grammar:
</p>
<pre class="example">
comprehension ::=  expression comp_for
comp_for      ::=  [ASYNC] "for" target_list "in" or_test [comp_iter]
comp_iter     ::=  comp_for | comp_if
comp_if       ::=  "if" expression_nocond [comp_iter]
</pre>

<p>
The <code>comp_for</code> non-terminal contains one or more <code>for</code> clause, and zero or more <code>if</code> clause.
</p>

<p>
The evaluation of these displays will evaluate from left to right, so
the last assignment will prevail in the case of set and dict. The
comprehension is executed by nesting the for and if clauses from left
to right.
</p>

<p>
So some examples:
</p>

<div class="org-src-container">
<pre class="src src-python">((a,b) <span style="color: #a020f0;">for</span> a <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(2) <span style="color: #a020f0;">for</span> b <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(3))
[(a,b) <span style="color: #a020f0;">for</span> a <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(2) <span style="color: #a020f0;">for</span> b <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(3)]
{(a,b) <span style="color: #a020f0;">for</span> a <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(2) <span style="color: #a020f0;">for</span> b <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(3)}

{a:b <span style="color: #a020f0;">for</span> a <span style="color: #a020f0;">in</span> (1,2) <span style="color: #a020f0;">for</span> b <span style="color: #a020f0;">in</span> (3,4)}
</pre>
</div>

<p>
Note the out-most braces are required, which also creates a scope.
</p>
</div>
</div>

<div id="outline-container-org5349b27" class="outline-2">
<h2 id="org5349b27"><span class="section-number-2">3</span> Emacs support</h2>
<div class="outline-text-2" id="text-3">
<p>
Install the <code>elpy</code> package. It provides:
</p>
<ul class="org-ul">
<li><code>C-c C-c</code> runs the shell and send the current buffer</li>
<li><code>C-c C-d</code> runs <code>elpy-doc</code></li>
<li><code>C-c C-t</code> runs <code>elpy-test</code>, which runs the unittest discover</li>
</ul>

<p>
To enable linter python in emacs, use pylint. It will use <code>pylint</code>
executable. And it also needs the configure file. Generate it:
</p>

<pre class="example">
pylint --generate-rcfile &gt; ~/.pylintrc
</pre>
</div>
</div>


<div id="outline-container-org2d59d53" class="outline-2">
<h2 id="org2d59d53"><span class="section-number-2">4</span> Unit Test</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">MyTest</span>(unittest.TestCase):
    <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">test_me</span>(<span style="color: #a020f0;">self</span>):
        <span style="color: #a020f0;">self</span>.assertEqual(1,2)
unittest.main()
</pre>
</div>

<p>
python unit test can support automatic test discovery. To use that,
the file must be named <code>test_xxx.py</code>, and run the <code>python -m unittest discover</code>.
</p>
</div>
</div>

<div id="outline-container-org803f5c4" class="outline-2">
<h2 id="org803f5c4"><span class="section-number-2">5</span> Concept</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orge4f6854" class="outline-3">
<h3 id="orge4f6854"><span class="section-number-3">5.1</span> Scoping</h3>
<div class="outline-text-3" id="text-5-1">
<p>
There're four levels:
</p>
<ul class="org-ul">
<li>current scope</li>
<li>parent scope</li>
<li>module scope (global)</li>
<li>built-in scope</li>
</ul>

<p>
<code>nonlocal</code> keyword specify this variable should be referenced to the parent scope.
But, this will not reach global.
Instead, the <code>global</code> keyword declares the listed variables to be in the module level scope.
</p>

<blockquote>
<p>
The nonlocal statement causes the listed identifiers to refer to previously bound variables in the nearest enclosing scope excluding globals.
</p>
</blockquote>

<p>
As an example:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">var</span> = 0 <span style="color: #b22222;"># </span><span style="color: #b22222;">global</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">outer</span>():
  <span style="color: #a0522d;">var</span> = 1 <span style="color: #b22222;"># </span><span style="color: #b22222;">parent</span>
  <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">inner</span>():
    <span style="color: #a020f0;">nonlocal</span> var
    <span style="color: #a0522d;">var</span> = 2 <span style="color: #b22222;"># </span><span style="color: #b22222;">local</span>
    <span style="color: #a020f0;">global</span> var
    <span style="color: #a0522d;">var</span> =3
  inner()
  <span style="color: #b22222;"># </span><span style="color: #b22222;">var = 2</span>

outer()
<span style="color: #b22222;"># </span><span style="color: #b22222;">global var = 3</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0460b2f" class="outline-3">
<h3 id="org0460b2f"><span class="section-number-3">5.2</span> Collection</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-orgc6b04ec" class="outline-4">
<h4 id="orgc6b04ec"><span class="section-number-4">5.2.1</span> String</h4>
<div class="outline-text-4" id="text-5-2-1">
</div>
<div id="outline-container-org434556b" class="outline-5">
<h5 id="org434556b"><span class="section-number-5">5.2.1.1</span> Concatenation</h5>
<div class="outline-text-5" id="text-5-2-1-1">
<ul class="org-ul">
<li>concatenate two strings directly by <code>+</code>.</li>
<li>need to convert integer to string before concatenate: <code>s + str(35)</code></li>
<li>"".join(lst) works</li>
</ul>
</div>
</div>

<div id="outline-container-orgaddce8f" class="outline-5">
<h5 id="orgaddce8f"><span class="section-number-5">5.2.1.2</span> split</h5>
<div class="outline-text-5" id="text-5-2-1-2">
<dl class="org-dl">
<dt><code>str.split(sep=None)</code></dt><dd>default by white space</dd>
<dt><code>str.strip()</code></dt><dd>strip out white space at both begin and end</dd>
<dt><code>str.replace(old, new)</code></dt><dd>replace <i>all</i>.</dd>
<dt><code>str.startswith(s)</code></dt><dd></dd>

<dt><code>str.endswith(s)</code></dt><dd></dd>
</dl>
</div>
</div>

<div id="outline-container-org479234c" class="outline-5">
<h5 id="org479234c"><span class="section-number-5">5.2.1.3</span> Slicing</h5>
<div class="outline-text-5" id="text-5-2-1-3">
<p>
String is an immutable object. It can use slicing. E.g. reversing a
string is as easy as <code>"hello"[::-1]</code>!
</p>

<p>
However, notice that when using a negative step, the slicing should be
<code>lst[end:begin:-1]</code>. This is because <code>x = i + n*k</code>:
</p>

<blockquote>
<p>
with a third “step” parameter: a[i:j:k] selects all items of a with
index x where x = i + n*k, n &gt;= 0 and i &lt;= x &lt; j.
</p>
</blockquote>

<p>
Also, the negative step does not always work as expect. E.g. the i
index is included and j is not; the j can not be negative, then how
can I include the first one in the list??
</p>

<p>
Thus if want to get a reverse of a sub-string, I would get sub-string
first and then reverse it.
</p>
</div>
</div>
</div>

<div id="outline-container-org3e55d5f" class="outline-4">
<h4 id="org3e55d5f"><span class="section-number-4">5.2.2</span> <span class="todo TODO">TODO</span> tuple</h4>
</div>
<div id="outline-container-org458b7ef" class="outline-4">
<h4 id="org458b7ef"><span class="section-number-4">5.2.3</span> List</h4>
<div class="outline-text-4" id="text-5-2-3">
</div>
<div id="outline-container-orgdd7b12a" class="outline-5">
<h5 id="orgdd7b12a"><span class="section-number-5">5.2.3.1</span> Slicing</h5>
<div class="outline-text-5" id="text-5-2-3-1">
<p>
The slicing syntax is <code>l[start:end:step]</code>.
The slicing will return a <i>new</i> list. Change to that list will not change the original one.
</p>
<div class="org-src-container">
<pre class="src src-python">l[4]
l[4:]
l[::2]
l[:-1]
</pre>
</div>

<p>
However, assign to the slicing itself <i>will change</i> the original one:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">l</span>[1:2] = [4,5,6]
</pre>
</div>

<p>
Also, assign to a new variable only assign the reference:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">a</span> = [1,2,3]
<span style="color: #a0522d;">b</span> = a <span style="color: #b22222;"># </span><span style="color: #b22222;">only a reference</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org54d3db8" class="outline-5">
<h5 id="org54d3db8"><span class="section-number-5">5.2.3.2</span> create a list</h5>
<div class="outline-text-5" id="text-5-2-3-2">
<ul class="org-ul">
<li><code>range(stop)</code></li>
<li><code>range(start, stop[, step])</code></li>
</ul>

<p>
Creating a matrix:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">newmat</span>=[[-1 <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(height)] <span style="color: #a020f0;">for</span> y <span style="color: #a020f0;">in</span> <span style="color: #483d8b;">range</span>(width)]
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc80367f" class="outline-5">
<h5 id="orgc80367f"><span class="section-number-5">5.2.3.3</span> Modify a list</h5>
<div class="outline-text-5" id="text-5-2-3-3">
<ul class="org-ul">
<li>list.append</li>
<li>list.pop</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga5d044e" class="outline-4">
<h4 id="orga5d044e"><span class="section-number-4">5.2.4</span> Dictionary</h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
Create:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">x</span> = {<span style="color: #8b2252;">'a'</span>: 1, <span style="color: #8b2252;">'b'</span>: 2}
</pre>
</div>
<p>
Dictionary is not sorted. Use <code>collections.OrderedDict</code> if you want this feature.
Basically it remember the order when the elements are inserted.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> collections
<span style="color: #a0522d;">od</span> = collections.OrderedDict(<span style="color: #483d8b;">sorted</span>(d.items()))
</pre>
</div>

<p>
Merge two dictionary (<code>x</code> and <code>y</code>):
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">z</span> = x.copy()
z.update(y)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgede2967" class="outline-4">
<h4 id="orgede2967"><span class="section-number-4">5.2.5</span> Set</h4>
<div class="outline-text-4" id="text-5-2-5">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">s</span> = <span style="color: #483d8b;">set</span>()
s.add(x)
<span style="color: #a020f0;">if</span> x <span style="color: #a020f0;">in</span> s:
  <span style="color: #a020f0;">pass</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0fd62a7" class="outline-3">
<h3 id="org0fd62a7"><span class="section-number-3">5.3</span> Algorithm</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<div id="outline-container-orgf136990" class="outline-4">
<h4 id="orgf136990"><span class="section-number-4">5.3.1</span> <span class="todo TODO">TODO</span> sort</h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
sort a dictionary by value:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #483d8b;">sorted</span>(dict1, key=dict1.get) <span style="color: #b22222;"># </span><span style="color: #b22222;">=&gt; list</span>
<span style="color: #483d8b;">sorted</span>(dict1, key=dict1.get, reverse=<span style="color: #008b8b;">True</span>)
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orgbc978e1" class="outline-3">
<h3 id="orgbc978e1"><span class="section-number-3">5.4</span> Function</h3>
<div class="outline-text-3" id="text-5-4">
</div>
<div id="outline-container-orgdd170dc" class="outline-4">
<h4 id="orgdd170dc"><span class="section-number-4">5.4.1</span> variadic parameter</h4>
<div class="outline-text-4" id="text-5-4-1">
<p>
use <code>*args</code> syntax, and <code>args</code> will be a <i>tuple</i>:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">foo</span>(*args):
  <span style="color: #a020f0;">for</span> a <span style="color: #a020f0;">in</span> args:
    <span style="color: #a020f0;">print</span> a
</pre>
</div>

<p>
use <code>**args</code> to capture all <i>keyword arguments</i>.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">bar</span>(**kwargs):
  <span style="color: #a020f0;">for</span> a <span style="color: #a020f0;">in</span> kwargs:
    <span style="color: #a020f0;">print</span> a, kwargs[a]
</pre>
</div>

<p>
Combine them together:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">foobar</span>(kind, *args, **kwargs):
  <span style="color: #a020f0;">pass</span>
</pre>
</div>

<p>
Also, there's a concept for the reverse thing: unpack argument list from a list, with <code>*list</code>:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">foo</span>(a,b):
  <span style="color: #a020f0;">pass</span>

<span style="color: #a0522d;">l</span> = [1,2]
foo(*l)
</pre>
</div>

<p>
on python3, this syntax can appear on left side
</p>
<div class="org-src-container">
<pre class="src src-python">first, *<span style="color: #a0522d;">rest</span> = [1,2,3,4]
first,*<span style="color: #a0522d;">l</span>,<span style="color: #a0522d;">last</span> = [1,2,3,4]
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org00cb874" class="outline-3">
<h3 id="org00cb874"><span class="section-number-3">5.5</span> Exception</h3>
<div class="outline-text-3" id="text-5-5">
<p>
To give a quick feel:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">try</span>:
  <span style="color: #a020f0;">pass</span>
<span style="color: #a020f0;">except</span> <span style="color: #228b22;">TypeError</span> <span style="color: #a020f0;">as</span> e: <span style="color: #b22222;"># </span><span style="color: #b22222;">capture the exception into a variable</span>
  <span style="color: #a020f0;">pass</span>
<span style="color: #a020f0;">except</span> AnotherError: <span style="color: #b22222;"># </span><span style="color: #b22222;">does not capture</span>
  <span style="color: #a020f0;">pass</span>
<span style="color: #a020f0;">except</span>: <span style="color: #b22222;"># </span><span style="color: #b22222;">all exception</span>
  <span style="color: #a020f0;">pass</span>
<span style="color: #a020f0;">else</span>: <span style="color: #b22222;"># </span><span style="color: #b22222;">if doesn't raise an exception</span>
  <span style="color: #a020f0;">pass</span>
<span style="color: #a020f0;">finally</span>:
  <span style="color: #a020f0;">pass</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org265a2fb" class="outline-3">
<h3 id="org265a2fb"><span class="section-number-3">5.6</span> Lambda</h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">lambda</span> x : x+2
<span style="color: #a020f0;">lambda</span> x: x%2==0
</pre>
</div>

<p>
The usage of lambda is often in <i>map</i> and <i>filter</i>.
</p>
<ul class="org-ul">
<li><code>map(lambda_exp, mylist)</code> will execute the lambda expression on each element of the list, and return a list containing the results.</li>
</ul>
</div>
</div>

<div id="outline-container-orge7d7370" class="outline-3">
<h3 id="orge7d7370"><span class="section-number-3">5.7</span> Packaging</h3>
<div class="outline-text-3" id="text-5-7">
<p>
Exposing API: the following only expose <code>foo</code> but not <code>bar</code>.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #483d8b;">__all__</span> = [<span style="color: #8b2252;">'foo'</span>]
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">foo</span>():
  <span style="color: #a020f0;">pass</span>
<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">bar</span>():
  <span style="color: #a020f0;">pass</span>
</pre>
</div>
</div>

<div id="outline-container-orgb68b463" class="outline-4">
<h4 id="orgb68b463"><span class="section-number-4">5.7.1</span> importing</h4>
<div class="outline-text-4" id="text-5-7-1">
<p>
The local structure directory must contain the <code>__init__.py</code> file to be able to import.
</p>
<pre class="example">
|-- main.py
|-- mypackage
    |-- __init__.py
    |-- a.py
    |-- b.py
    |-- subdir
        |-- __init__.py
        |-- c.py
</pre>

<p>
The import statements should be:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> mypackage <span style="color: #a020f0;">import</span> a
<span style="color: #a020f0;">from</span> mypackage.b <span style="color: #a020f0;">import</span> foo <span style="color: #a020f0;">as</span> myfoo
<span style="color: #a020f0;">from</span> mypackage.subdir <span style="color: #a020f0;">import</span> c
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org567265c" class="outline-3">
<h3 id="org567265c"><span class="section-number-3">5.8</span> Thread</h3>
<div class="outline-text-3" id="text-5-8">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> threading <span style="color: #a020f0;">import</span> Thread

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">MyThread</span>(Thread):
  <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">__init__</span>(<span style="color: #a020f0;">self</span>, arg):
    Thread.__init__(<span style="color: #a020f0;">self</span>)
    <span style="color: #a020f0;">self</span>.arg = arg
  <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">run</span>(<span style="color: #a020f0;">self</span>):
    <span style="color: #a020f0;">pass</span>

<span style="color: #a0522d;">t</span> = MyThread(arg)
t.start()
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfe71be0" class="outline-2">
<h2 id="orgfe71be0"><span class="section-number-2">6</span> Type</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org3ab752b" class="outline-3">
<h3 id="org3ab752b"><span class="section-number-3">6.1</span> Boolean</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><code>not True</code></li>
</ul>
</div>
</div>

<div id="outline-container-org1345b7a" class="outline-3">
<h3 id="org1345b7a"><span class="section-number-3">6.2</span> Integer</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li><code>i += 1</code></li>
</ul>
</div>
</div>

<div id="outline-container-orgd83d98c" class="outline-3">
<h3 id="orgd83d98c"><span class="section-number-3">6.3</span> conversion</h3>
<div class="outline-text-3" id="text-6-3">
<ul class="org-ul">
<li>string to integer: <code>int('45')</code></li>
<li>integer to string: <code>str(45)</code></li>
<li>ASCII to char: <code>chr(100)</code> returns 'd'</li>
<li>char to ASCII: <code>ord('d')</code> returns 100</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org807fe23" class="outline-2">
<h2 id="org807fe23"><span class="section-number-2">7</span> Black Tech</h2>
<div class="outline-text-2" id="text-7">
<p>
If else or:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">var</span> = d.get(<span style="color: #8b2252;">'key'</span>) <span style="color: #a020f0;">or</span> 0
<span style="color: #b22222;"># </span><span style="color: #b22222;">is equal to:</span>
<span style="color: #a0522d;">var</span> = d.get(<span style="color: #8b2252;">'key'</span>) <span style="color: #a020f0;">if</span> d.get(<span style="color: #8b2252;">'key'</span>) <span style="color: #a020f0;">else</span> 0
</pre>
</div>

<p>
list comprehension
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">even_squares</span> = [x**2 <span style="color: #a020f0;">for</span> x <span style="color: #a020f0;">in</span> l <span style="color: #a020f0;">if</span> x%2 == 0]
</pre>
</div>
</div>
</div>

<div id="outline-container-org30b993b" class="outline-2">
<h2 id="org30b993b"><span class="section-number-2">8</span> Pep8</h2>
<div class="outline-text-2" id="text-8">
<p>
Indent:
</p>
<ul class="org-ul">
<li><b>function and class</b> should be separated by <b>2 lines</b></li>
<li><b>In a class</b>, function should be separated by <b>1 line</b></li>
<li>1 space before and after variable assignment</li>
</ul>

<p>
Naming
</p>
<ul class="org-ul">
<li>function, variable, attribute: <code>func_var_attr</code></li>
<li>protected instance attributes: <code>_protected_field</code></li>
<li>private instance attributes: <code>__private_field</code></li>
<li>class and exception: <code>ClassExceptionName</code></li>
<li>module level constants: <code>CONSTANT</code></li>
<li>instance method of class should use <code>self</code> as first parameter, refer to the object</li>
<li>class method should use <code>cls</code> as first parameter, refer to the class</li>
</ul>

<p>
Expression
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">use</th>
<th scope="col" class="org-left">DONT use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>a is not b</code></td>
<td class="org-left"><del><code>not a is b</code></del></td>
</tr>

<tr>
<td class="org-left"><code>if not list</code></td>
<td class="org-left"><del><code>if len(list) == 0</code></del></td>
</tr>
</tbody>
</table>

<p>
Import
</p>
<ul class="org-ul">
<li>always use absolute path</li>
<li>if must use relative, use <code>from . import foo</code> instead of <del><code>import foo</code></del></li>
</ul>
</div>

<div id="outline-container-orgd7890b2" class="outline-3">
<h3 id="orgd7890b2"><span class="section-number-3">8.1</span> document</h3>
<div class="outline-text-3" id="text-8-1">
<p>
One can use one line or multi-line document.
The doc string can be retrieved by <code>func.__doc__</code>.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">func</span>():
  <span style="color: #8b2252;">"""one line doc"""</span>

<span style="color: #a020f0;">def</span> <span style="color: #0000ff;">func</span>():
  <span style="color: #8b2252;">"""The outline</span>

<span style="color: #8b2252;">  The above empty line is required.</span>
<span style="color: #8b2252;">  Here's the detailed documentation.</span>
<span style="color: #8b2252;">  """</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5a57c91" class="outline-2">
<h2 id="org5a57c91"><span class="section-number-2">9</span> IO</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">print</span>(<span style="color: #8b2252;">'xxx'</span>, end=<span style="color: #8b2252;">''</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">f</span> = <span style="color: #483d8b;">open</span>(<span style="color: #8b2252;">'text.txt'</span>)
f.read() <span style="color: #b22222;"># </span><span style="color: #b22222;">return all content</span>

<span style="color: #a0522d;">f</span> = <span style="color: #483d8b;">open</span>(<span style="color: #8b2252;">'text.txt'</span>)
<span style="color: #a020f0;">for</span> line <span style="color: #a020f0;">in</span> f:
    <span style="color: #a020f0;">print</span>(line)

<span style="color: #a020f0;">with</span> <span style="color: #483d8b;">open</span>(<span style="color: #8b2252;">'a.txt'</span>) <span style="color: #a020f0;">as</span> f:
    <span style="color: #a020f0;">for</span> line <span style="color: #a020f0;">in</span> f:
        <span style="color: #a020f0;">print</span>(line)
</pre>
</div>

<p>
read from stdin:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">for</span> line <span style="color: #a020f0;">in</span> sys.stdin:
  <span style="color: #a020f0;">print</span>(line)
</pre>
</div>

<p>
get command line argument: <code>sys.argv</code>
</p>
</div>
</div>


<div id="outline-container-org6869fca" class="outline-2">
<h2 id="org6869fca"><span class="section-number-2">10</span> Operating System</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org2f0ddc4" class="outline-3">
<h3 id="org2f0ddc4"><span class="section-number-3">10.1</span> Work filesystem:</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> os
<span style="color: #a020f0;">for</span> root,dirs,files <span style="color: #a020f0;">in</span> os.walk(<span style="color: #8b2252;">'.'</span>):
  <span style="color: #a020f0;">for</span> f <span style="color: #a020f0;">in</span> files:
    <span style="color: #a020f0;">print</span> f
</pre>
</div>

<ul class="org-ul">
<li><code>os.path.abspath('relative/path/to/file')</code></li>
<li><code>os.path.exists("/path/to/file")</code></li>
<li><code>os.rename('old', 'new')</code></li>
<li><code>os.path.isfile</code></li>
</ul>
</div>
</div>



<div id="outline-container-org432c68f" class="outline-3">
<h3 id="org432c68f"><span class="section-number-3">10.2</span> Shell command</h3>
<div class="outline-text-3" id="text-10-2">
<dl class="org-dl">
<dt><code>os.system</code></dt><dd>simply run command</dd>
</dl>
<div class="org-src-container">
<pre class="src src-python">os.system(<span style="color: #8b2252;">"some command"</span>)
</pre>
</div>

<dl class="org-dl">
<dt><code>os.popen</code></dt><dd>access to input output</dd>
</dl>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">stream</span> = os.popen(<span style="color: #8b2252;">"some command"</span>)
stream.read()
</pre>
</div>

<ul class="org-ul">
<li><code>subprocess.Popen</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">p</span> = subprocess.Popen(<span style="color: #8b2252;">"echo Hello World"</span>, shell=<span style="color: #008b8b;">True</span>, stdout=subprocess.PIPE)
p.stdout.read()
<span style="color: #a0522d;">s</span> = subprocess.check_output(<span style="color: #8b2252;">'wc -l'</span>, stdin=p.stdout)
</pre>
</div>

<dl class="org-dl">
<dt><code>subprocess.call</code></dt><dd>this is the same as <code>subprocess.Popen</code> except that it waits and gives return code.</dd>
</dl>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a0522d;">return_code</span> = subprocess.call(<span style="color: #8b2252;">"echo Hello World"</span>, shell=<span style="color: #008b8b;">True</span>, stdout=subprocess.DEVNULL)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc928484" class="outline-2">
<h2 id="orgc928484"><span class="section-number-2">11</span> Standard Library</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org7434868" class="outline-3">
<h3 id="org7434868"><span class="section-number-3">11.1</span> math</h3>
<div class="outline-text-3" id="text-11-1">
<ul class="org-ul">
<li>math.pow</li>
<li>math.log</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org3280dcd" class="outline-2">
<h2 id="org3280dcd"><span class="section-number-2">12</span> Third party libraries</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-orgd9a9149" class="outline-3">
<h3 id="orgd9a9149"><span class="section-number-3">12.1</span> argparse</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> argparse
<span style="color: #a0522d;">parser</span> = argparse.ArgumentParser()
parser.add_argument(<span style="color: #8b2252;">'-q'</span>, <span style="color: #8b2252;">'--query'</span>, <span style="color: #483d8b;">help</span>=<span style="color: #8b2252;">'query github api'</span>, require=<span style="color: #008b8b;">True</span>)
parser.add_argument(<span style="color: #8b2252;">'-d'</span>, <span style="color: #8b2252;">'--download'</span>, <span style="color: #483d8b;">help</span>=<span style="color: #8b2252;">'do download'</span>, action=<span style="color: #8b2252;">'store_true'</span>)
<span style="color: #a0522d;">args</span> = parser.parse_args()
</pre>
</div>
</div>
</div>

<div id="outline-container-org44c5353" class="outline-3">
<h3 id="org44c5353"><span class="section-number-3">12.2</span> urllib</h3>
<div class="outline-text-3" id="text-12-2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">from</span> urllib <span style="color: #a020f0;">import</span> request
<span style="color: #a020f0;">import</span> json

<span style="color: #a0522d;">url</span> = <span style="color: #8b2252;">'https://api.github.com'</span>
<span style="color: #a0522d;">api</span> = <span style="color: #8b2252;">'/search/repositories'</span>
<span style="color: #a0522d;">query</span> = <span style="color: #8b2252;">'language:C&amp;stars:&gt;10&amp;per_page='</span>+size
<span style="color: #a0522d;">response</span> = request.urlopen(url+api+<span style="color: #8b2252;">"?q="</span>+query)

<span style="color: #a0522d;">s</span> = response.read().decode(<span style="color: #8b2252;">'utf8'</span>)
<span style="color: #a0522d;">j</span> = json.loads(s)
<span style="color: #b22222;"># </span><span style="color: #b22222;">j will be a mix of list and dict</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6efcdf7" class="outline-3">
<h3 id="org6efcdf7"><span class="section-number-3">12.3</span> XML</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">import</span> xml.etree.ElementTree <span style="color: #a020f0;">as</span> ET
<span style="color: #a0522d;">root</span> = ET.fromstring(s)
<span style="color: #b22222;"># </span><span style="color: #b22222;">XPath</span>
<span style="color: #a0522d;">nodes</span> = root.findall(<span style="color: #8b2252;">'{http://www.sdml.info/srcML/src}function'</span>)
<span style="color: #a020f0;">for</span> node <span style="color: #a020f0;">in</span> nodes:
  <span style="color: #b22222;"># </span><span style="color: #b22222;">do with node</span>
  <span style="color: #a020f0;">pass</span>
</pre>
</div>

<p>
APIs
</p>
<ul class="org-ul">
<li><code>node.find(XPath)</code></li>
<li><code>node.findall(XPath)</code></li>
<li><code>node.get(Attribute)</code></li>
<li><code>node.text</code></li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Hebi Li</p>
<p class="date">Created: 2017-11-20 Mon 10:50</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
